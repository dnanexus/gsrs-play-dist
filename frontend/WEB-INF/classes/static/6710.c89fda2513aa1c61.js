"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[6710],{36710:function($,S,s){s.r(S),s.d(S,{SubstanceNaSugarsModule:function(){return F}});var m=s(48047),f=s(78069),p=s(36362),v=s(95106),h=s(80206),C=s(98568),d=s(20265),y=s(24582),b=s(2756),Z=s(50253),N=s(18291),t=s(76442),r=s(97217);function x(a,e){1&a&&(t.TgZ(0,"th",10),t._uU(1," Sugar "),t.qZA())}function D(a,e){if(1&a&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&a){var u=e.$implicit,c=t.oxw();t.xp6(1),t.hij(" ",c.getSugarDisplay(u.sugar)," ")}}function A(a,e){1&a&&(t.TgZ(0,"th",10),t._uU(1," Structure "),t.qZA())}function U(a,e){if(1&a&&(t.TgZ(0,"td",11),t._UZ(1,"img",12),t.qZA()),2&a){var u=e.$implicit;t.xp6(1),t.Q6J("src",u.structure,t.LSH)}}function R(a,e){1&a&&(t.TgZ(0,"th",10),t._uU(1," Site Range "),t.qZA())}function Y(a,e){if(1&a&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&a){var u=e.$implicit;t.xp6(1),t.hij(" ",u.sitesShorthand," ")}}function O(a,e){1&a&&(t.TgZ(0,"th",10),t._uU(1," Site Count "),t.qZA())}function Q(a,e){if(1&a&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&a){var u=e.$implicit,c=t.oxw();t.xp6(1),t.hij(" ",c.getSiteCount(u.sites)," ")}}function I(a,e){1&a&&t._UZ(0,"tr",13)}function j(a,e){1&a&&t._UZ(0,"tr",14)}var B=function(){var a=function(e){function u(c){var n;return(0,f.Z)(this,u),n=function T(a,e,u){return e=(0,d.Z)(e),(0,h.Z)(a,(0,C.Z)()?Reflect.construct(e,u||[],(0,d.Z)(a).constructor):e.apply(a,u))}(this,u),n.cvService=c,n.displayedColumns=["Sugar","Structure","Site Range","Site Count"],n.substanceUpdated=new Z.x,n.subscriptions=[],n}return(0,y.Z)(u,e),(0,m.Z)(u,[{key:"ngOnInit",value:function(){var n=this;this.substanceUpdated.subscribe(function(o){if(n.substance=o,null!=n.substance&&null!=n.substance.nucleicAcid&&null!=n.substance.nucleicAcid.sugars&&n.substance.nucleicAcid.sugars.length){n.sugars=n.substance.nucleicAcid.sugars,n.countUpdate.emit(n.sugars.length);var l=n.cvService.getDomainVocabulary("NUCLEIC_ACID_SUGAR").subscribe(function(g){n.vocabulary=g.NUCLEIC_ACID_SUGAR.dictionary,n.sugars.forEach(function(i){i.structure=n.vocabulary[i.sugar]?n.cvService.getStructureUrlFragment(n.vocabulary[i.sugar].fragmentStructure):null})});n.subscriptions.push(l),n.getTotalSites()}})}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(n){n.unsubscribe()})}},{key:"getTotalSites",value:function(){this.siteCount=0;var o,n=(0,v.Z)(this.sugars);try{for(n.s();!(o=n.n()).done;)this.siteCount=this.siteCount+o.value.sites.length}catch(g){n.e(g)}finally{n.f()}}},{key:"getSiteCount",value:function(n){return n.length+"/"+this.siteCount}},{key:"getSugarDisplay",value:function(n){return this.vocabulary&&this.vocabulary[n]&&this.vocabulary[n].display?this.vocabulary[n].display:n}}]),u}(b.B);return a.\u0275fac=function(u){return new(u||a)(t.Y36(N.I))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-substance-na-sugars"]],features:[t.qOj],decls:16,vars:3,consts:[[1,"responsive"],["mat-table","",3,"dataSource"],["matColumnDef","Sugar"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Structure"],["matColumnDef","Site Range"],["matColumnDef","Site Count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","style","height:145px",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"structure",3,"src"],["mat-header-row",""],["mat-row","",2,"height","145px"]],template:function(u,c){1&u&&(t.TgZ(0,"div",0),t.TgZ(1,"table",1),t.ynx(2,2),t.YNc(3,x,2,0,"th",3),t.YNc(4,D,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,A,2,0,"th",3),t.YNc(7,U,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,R,2,0,"th",3),t.YNc(10,Y,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,O,2,0,"th",3),t.YNc(13,Q,2,1,"td",4),t.BQk(),t.YNc(14,I,1,0,"tr",8),t.YNc(15,j,1,0,"tr",9),t.qZA(),t.qZA()),2&u&&(t.xp6(1),t.Q6J("dataSource",c.sugars),t.xp6(13),t.Q6J("matHeaderRowDef",c.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.displayedColumns))},directives:[r.BZ,r.w1,r.fO,r.ge,r.Dz,r.ev,r.as,r.XQ,r.nj,r.Gk],styles:[".structure[_ngcontent-%COMP%]{margin:-12px}"]}),a}(),H=s(64061),M=s(43365),J=s(26439),E=s(33865),F=function(){var a=(0,m.Z)(function e(){(0,f.Z)(this,e)});return a.\u0275fac=function(u){return new(u||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[p.ez,H.o.forChild(B),r.p0,E.HT,J.TU,M.c]]}),a}()}}]);
//# sourceMappingURL=6710.c89fda2513aa1c61.js.map