"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[8592],{99146:function(y,Z,i){i.d(Z,{a:function(){return T}});var O=i(78069),E=i(48047),t=i(95758),C=i(24874),n=i(76442),e=i(30639),m=i(87317),T=function(){var f=function(){function p(v,M,R){(0,O.Z)(this,p),this.dialogRef=v,this.gaService=M,this.data=R}return(0,E.Z)(p,[{key:"ngOnInit",value:function(){this.data.name&&(this.name=this.data.name)}},{key:"nameResolved",value:function(M){this.dialogRef.close(M)}},{key:"dismissDialog",value:function(){this.gaService.sendEvent("nameResolverDialog","button:close","cancel resolver"),this.dialogRef.close()}}]),p}();return f.\u0275fac=function(v){return new(v||f)(n.Y36(t.so),n.Y36(C.$),n.Y36(t.WI))},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-name-resolver-dialog"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"startingName","structureSelected"],["mat-dialog-actions","",1,"flex-row"],[1,"middle-fill"],["mat-button","",3,"click"]],template:function(v,M){1&v&&(n.TgZ(0,"h1",0),n._uU(1," Get Structure From Name\n"),n.qZA(),n.TgZ(2,"div",1),n.TgZ(3,"app-name-resolver",2),n.NdJ("structureSelected",function(P){return M.nameResolved(P)}),n.qZA(),n.qZA(),n.TgZ(4,"div",3),n._UZ(5,"span",4),n.TgZ(6,"button",5),n.NdJ("click",function(){return M.dismissDialog()}),n._uU(7,"Close"),n.qZA(),n.qZA()),2&v&&(n.xp6(3),n.Q6J("startingName",M.name))},directives:[e.W,m.lW],styles:[""]}),f}()},11920:function(y,Z,i){i.d(Z,{V:function(){return E.V}}),i(73430);var E=i(38277)},73430:function(y,Z,i){i.d(Z,{C:function(){return H}});var O=i(78069),E=i(48047),t=i(12570),C=i(36362),n=i(59295),e=i(76442),m=i(97217),T=i(65590),f=i(40089);function p(a,_){1&a&&(e.TgZ(0,"th",13),e._uU(1," Index "),e.qZA())}function v(a,_){if(1&a&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&a){var s=_.$implicit,d=e.oxw();e.xp6(1),e.hij("",d.getParentIndex(s)," ")}}function M(a,_){1&a&&(e.TgZ(0,"th",13),e._uU(1," Source Text / Citation "),e.qZA())}function R(a,_){if(1&a&&(e.TgZ(0,"a",17),e._uU(1),e.qZA()),2&a){var s=e.oxw().$implicit;e.Q6J("href",s.url,e.LSH),e.xp6(1),e.Oqu(s.citation)}}function P(a,_){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){var s=e.oxw().$implicit;e.xp6(1),e.Oqu(s.citation)}}function I(a,_){if(1&a&&(e.TgZ(0,"td",14),e.YNc(1,R,2,2,"a",15),e.YNc(2,P,2,1,"span",16),e.qZA()),2&a){var s=_.$implicit;e.xp6(1),e.Q6J("ngIf",s.url),e.xp6(1),e.Q6J("ngIf",!s.url)}}function b(a,_){1&a&&(e.TgZ(0,"th",13),e._uU(1," Source Type "),e.qZA())}function U(a,_){if(1&a&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&a){var s=_.$implicit;e.xp6(1),e.hij(" ",s.docType," ")}}function S(a,_){1&a&&(e.TgZ(0,"th",13),e._uU(1," Tags "),e.qZA())}function N(a,_){if(1&a&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&a){var s=_.$implicit;e.xp6(1),e.hij(" ",s," ")}}function g(a,_){if(1&a){var s=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){e.CHM(s);var A=e.oxw(3);return A.showmore=!A.showmore}),e._uU(1,"hide"),e.qZA()}}function h(a,_){if(1&a&&(e.TgZ(0,"span"),e.YNc(1,N,2,1,"span",18),e.YNc(2,g,2,0,"a",19),e.qZA()),2&a){var s=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",s.tags),e.xp6(1),e.Q6J("ngIf",s.tags.length>1)}}function l(a,_){if(1&a){var s=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){e.CHM(s);var A=e.oxw(3);return A.showmore=!A.showmore}),e._uU(1,"more..."),e.qZA()}}function o(a,_){if(1&a&&(e.TgZ(0,"span"),e.TgZ(1,"span",20),e._uU(2),e.qZA(),e.YNc(3,l,2,0,"a",19),e.qZA()),2&a){var s=e.oxw().$implicit;e.xp6(2),e.hij(" ",s.tags.length>0?s.tags[0]:null,""),e.xp6(1),e.Q6J("ngIf",s.tags.length>1)}}function u(a,_){if(1&a&&(e.TgZ(0,"td",14),e.YNc(1,h,3,2,"span",16),e.YNc(2,o,4,2,"span",16),e.qZA()),2&a){var s=_.$implicit,d=e.oxw();e.xp6(1),e.Q6J("ngIf",d.showmore&&s.tags&&s.tags.length>0),e.xp6(1),e.Q6J("ngIf",!d.showmore&&s.tags&&s.tags.length>0)}}function r(a,_){1&a&&(e.TgZ(0,"th",22),e._uU(1," File "),e.qZA())}function c(a,_){if(1&a&&(e.TgZ(0,"a",24),e._UZ(1,"mat-icon",25),e.qZA()),2&a){var s=e.oxw().$implicit;e.Q6J("href",s.uploadedFile,e.LSH)}}function D(a,_){if(1&a&&(e.TgZ(0,"td",14),e.YNc(1,c,2,1,"a",23),e.qZA()),2&a){var s=_.$implicit;e.xp6(1),e.Q6J("ngIf",s.uploadedFile)}}function x(a,_){1&a&&(e.TgZ(0,"th",13),e._uU(1," Date Accessed "),e.qZA())}function Y(a,_){if(1&a&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&a){var s=_.$implicit,d=e.oxw();e.xp6(1),e.hij(" ",d.convertTimestamp(s.lastEdited)," ")}}function J(a,_){1&a&&(e.TgZ(0,"th",22),e._uU(1," Access "),e.qZA())}function B(a,_){1&a&&e._UZ(0,"mat-icon",30)}function W(a,_){if(1&a&&(e.TgZ(0,"span",28),e.YNc(1,B,1,0,"mat-icon",29),e.qZA()),2&a){var s=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",s.access.length)}}function F(a,_){1&a&&e._UZ(0,"mat-icon",33)}function Q(a,_){if(1&a&&(e.TgZ(0,"span",31),e.YNc(1,F,1,0,"mat-icon",32),e.qZA()),2&a){var s=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",0===s.access.length)}}function K(a,_){if(1&a&&(e.TgZ(0,"td",14),e.YNc(1,W,2,1,"span",26),e.YNc(2,Q,2,1,"span",27),e.qZA()),2&a){var s=_.$implicit;e.xp6(1),e.Q6J("ngIf",s.access.length),e.xp6(1),e.Q6J("ngIf",!s.access.length)}}function q(a,_){1&a&&e._UZ(0,"tr",34)}function k(a,_){1&a&&e._UZ(0,"tr",35)}var H=function(){var a=function(){function _(s){(0,O.Z)(this,_),this.substanceService=s,this.matchedRef=[],this.showmore=!1,this.displayedColumns=["index","citation","docType","tags","files","lastEdited","access"]}return(0,E.Z)(_,[{key:"ngOnInit",value:function(){var d=this;if(this.substance)this.subRef=this.substance.references;else if(this.subUUID)var A=this.substanceService.getSubstanceDetails(this.subUUID).pipe((0,n.q)(1)).subscribe(function(L){L&&(d.substance=L,d.subRef=d.substance.references),A.unsubscribe()},function(L){A.unsubscribe()});this.subRef&&this.compileReferences()}},{key:"compileReferences",value:function(){var d=this;this.substance.references&&this.substance.references.forEach(function(A){d.references.indexOf(A.uuid)>-1&&d.matchedRef.push(A)})}},{key:"convertTimestamp",value:function(d){return new C.uU("en-US").transform(d,"MMM dd, yyyy")}},{key:"getParentIndex",value:function(d){return this.subRef.indexOf(d)+1}}]),_}();return a.\u0275fac=function(s){return new(s||a)(e.Y36(t.d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-references-manager"]],inputs:{substance:"substance",subUUID:"subUUID",references:"references"},decls:24,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","citation"],["matColumnDef","docType"],["matColumnDef","tags"],["matColumnDef","files"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","lastEdited"],["matColumnDef","access"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["target","_blank","appTrackLinkEvent","","evCategory","substanceOverview",3,"href",4,"ngIf"],[4,"ngIf"],["target","_blank","appTrackLinkEvent","","evCategory","substanceOverview",3,"href"],["class","badge",4,"ngFor","ngForOf"],["class","morelink",3,"click",4,"ngIf"],[1,"badge"],[1,"morelink",3,"click"],["mat-header-cell","","mat-sort-header",""],[3,"href",4,"ngIf"],[3,"href"],["color","primary","svgIcon","cloud_download",1,"blue"],["matTooltip","Not Public",4,"ngIf"],["matTooltip","Public",4,"ngIf"],["matTooltip","Not Public"],["svgIcon","lock","class","icon-align blue-font",4,"ngIf"],["svgIcon","lock",1,"icon-align","blue-font"],["matTooltip","Public"],["svgIcon","lock_open","class","icon-align blue-font",4,"ngIf"],["svgIcon","lock_open",1,"icon-align","blue-font"],["mat-header-row",""],["mat-row",""]],template:function(s,d){1&s&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,p,2,0,"th",2),e.YNc(3,v,2,1,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,M,2,0,"th",2),e.YNc(6,I,3,2,"td",3),e.BQk(),e.ynx(7,5),e.YNc(8,b,2,0,"th",2),e.YNc(9,U,2,1,"td",3),e.BQk(),e.ynx(10,6),e.YNc(11,S,2,0,"th",2),e.YNc(12,u,3,2,"td",3),e.BQk(),e.ynx(13,7),e.YNc(14,r,2,0,"th",8),e.YNc(15,D,2,1,"td",3),e.BQk(),e.ynx(16,9),e.YNc(17,x,2,0,"th",2),e.YNc(18,Y,2,1,"td",3),e.BQk(),e.ynx(19,10),e.YNc(20,J,2,0,"th",8),e.YNc(21,K,3,2,"td",3),e.BQk(),e.YNc(22,q,1,0,"tr",11),e.YNc(23,k,1,0,"tr",12),e.qZA()),2&s&&(e.Q6J("dataSource",d.matchedRef),e.xp6(22),e.Q6J("matHeaderRowDef",d.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",d.displayedColumns))},directives:[m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,C.O5,C.sg,T.Hw,f.gM,m.as,m.XQ,m.nj,m.Gk],styles:[".mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--ref-manager-mat-row-nth-child-color)}.morelink[_ngcontent-%COMP%]{color:var(--link-color);padding-left:10px}"]}),a}()},38277:function(y,Z,i){i.d(Z,{V:function(){return T}});var O=i(48047),E=i(78069),t=i(36362),C=i(40089),n=i(65590),e=i(97217),m=i(76442),T=function(){var f=(0,O.Z)(function p(){(0,E.Z)(this,p)});return f.\u0275fac=function(v){return new(v||f)},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({imports:[[t.ez,e.p0,n.Ps,C.AV]]}),f}()},99154:function(y,Z,i){i.d(Z,{U:function(){return m}});var O=i(78069),E=i(48047),t=i(76442),C=i(95758),n=i(53349),e=i(87317),m=function(){var T=function(){function f(p){(0,O.Z)(this,f),this.dialogRef=p}return(0,E.Z)(f,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.dialogRef.close()}},{key:"fillReference",value:function(v){this.dialogRef.close(v)}}]),f}();return T.\u0275fac=function(p){return new(p||T)(t.Y36(C.so))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-previous-references-dialog"]],decls:9,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"selectedReference"],["mat-dialog-actions",""],[1,"middle-fill"],["mat-button","",3,"click"]],template:function(p,v){1&p&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._uU(2,"Select Previously Used Reference"),t.qZA(),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"app-previous-references",2),t.NdJ("selectedReference",function(R){return v.fillReference(R)}),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"span",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return v.cancel()}),t._uU(8,"Cancel"),t.qZA(),t.qZA())},directives:[C.uh,C.xY,n.s,C.H8,e.lW],styles:[""]}),T}()},17537:function(y,Z,i){i.d(Z,{h:function(){return N}});var O=i(78069),E=i(48047),t=i(76442),C=i(42827),n=i(54244),e=i(36362),m=i(90587),T=i(44770),f=i(43365),p=i(91434),v=i(1130),M=i(14900);function R(g,h){if(1&g&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&g){var l=h.$implicit;t.Q6J("value",l.value),t.xp6(1),t.hij(" ",l.display," ")}}function P(g,h){if(1&g&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&g){var l=h.$implicit;t.Q6J("value",l.value),t.xp6(1),t.hij(" ",l.display," ")}}function I(g,h){if(1&g&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&g){var l=h.$implicit;t.Q6J("value",l.value),t.xp6(1),t.hij(" ",l.display," ")}}function b(g,h){1&g&&t._UZ(0,"div")}function U(g,h){if(1&g){var l=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",19),t.TgZ(2,"div",20),t._uU(3,"Stereo Comments"),t.qZA(),t.TgZ(4,"textarea",21),t.NdJ("ngModelChange",function(r){return t.CHM(l),t.oxw(2).structure.stereoComments=r}),t.qZA(),t.qZA(),t.qZA()}if(2&g){var o=t.oxw(2);t.xp6(4),t.Q6J("ngModel",o.structure.stereoComments)}}function S(g,h){if(1&g){var l=t.EpF();t.TgZ(0,"form",1),t.TgZ(1,"div",2),t.TgZ(2,"mat-form-field",3),t.TgZ(3,"input",4),t.NdJ("ngModelChange",function(r){return t.CHM(l),t.oxw().structure.formula=r}),t.qZA(),t.qZA(),t.TgZ(4,"mat-form-field",5),t.TgZ(5,"mat-label"),t._uU(6,"Stereochemistry"),t.qZA(),t.TgZ(7,"mat-select",6),t.NdJ("ngModelChange",function(r){return t.CHM(l),t.oxw().structure.stereochemistry=r}),t.YNc(8,R,2,2,"mat-option",7),t.qZA(),t.qZA(),t.TgZ(9,"mat-form-field",8),t.TgZ(10,"mat-label"),t._uU(11,"Optical Activity"),t.qZA(),t.TgZ(12,"mat-select",9),t.NdJ("ngModelChange",function(r){return t.CHM(l),t.oxw().structure.opticalActivity=r}),t.YNc(13,P,2,2,"mat-option",7),t.qZA(),t.qZA(),t.TgZ(14,"mat-form-field",10),t.TgZ(15,"mat-label"),t._uU(16,"Additional Stereochemistry"),t.qZA(),t.TgZ(17,"mat-select",11),t.NdJ("ngModelChange",function(r){return t.CHM(l),t.oxw().structure.atropisomerism=r}),t.YNc(18,I,2,2,"mat-option",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",2),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t._uU(22," Molecular Weight "),t.qZA(),t.TgZ(23,"div",14),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"div",12),t.TgZ(26,"div",13),t._uU(27," Defined Stereocenters "),t.qZA(),t.TgZ(28,"div",14),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"div",12),t.TgZ(31,"div",13),t._uU(32," EZ Centers "),t.qZA(),t.TgZ(33,"div",14),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"div",12),t.TgZ(36,"div",13),t._uU(37," Structure Charge "),t.qZA(),t.TgZ(38,"div",14),t._uU(39),t.qZA(),t.qZA(),t.YNc(40,b,1,0,"div",15),t.qZA(),t.YNc(41,U,5,1,"div",16),t.TgZ(42,"div",2),t._UZ(43,"app-audit-info",17),t.qZA(),t.qZA()}if(2&g){var o=t.oxw();t.xp6(3),t.Q6J("ngModel",o.structure.formula),t.xp6(4),t.Q6J("ngModel",o.structure.stereochemistry),t.xp6(1),t.Q6J("ngForOf",o.stereoChemistryTypeList),t.xp6(4),t.Q6J("ngModel",o.structure.opticalActivity),t.xp6(1),t.Q6J("ngForOf",o.opticalActivityList),t.xp6(4),t.Q6J("ngModel",o.structure.atropisomerism),t.xp6(1),t.Q6J("ngForOf",o.atropisomerismList),t.xp6(6),t.hij(" ",o.structure.mwt," "),t.xp6(5),t.AsE(" ",o.structure.definedStereo," / ",o.structure.stereoCenters," "),t.xp6(5),t.hij(" ",o.structure.ezCenters," "),t.xp6(5),t.hij(" ",o.structure.charge," "),t.xp6(1),t.Q6J("ngIf",!o.hideAccess),t.xp6(1),t.Q6J("ngIf",o.structure.atropisomerism&&"Yes"==o.structure.atropisomerism),t.xp6(2),t.Q6J("source",o.structure)}}var N=function(){var g=function(){function h(l,o){(0,O.Z)(this,h),this.cvService=l,this.overlayContainerService=o,this.privateStructure={},this.stereoChemistryTypeList=[],this.opticalActivityList=[],this.atropisomerismList=[],this.hideAccess=!0,this.showSettings=!1,this.structureImported=new t.vpe,this.subscriptions=[]}return(0,E.Z)(h,[{key:"ngOnInit",value:function(){this.getVocabularies(),this.optical=this.privateStructure.opticalActivity}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(o){o.unsubscribe()})}},{key:"structure",get:function(){return"NONE"===this.privateStructure.opticalActivity&&!this.inCV(this.opticalActivityList,this.privateStructure.opticalActivity)&&(this.privateStructure.opticalActivity="none"),this.privateStructure},set:function(o){null!=o&&(this.privateStructure=o,"NONE"===this.privateStructure.opticalActivity&&!this.inCV(this.opticalActivityList,this.privateStructure.opticalActivity)&&(this.privateStructure.opticalActivity="none"))}},{key:"getVocabularies",value:function(){var o=this;this.cvService.getDomainVocabulary("STEREOCHEMISTRY_TYPE","OPTICAL_ACTIVITY","ATROPISOMERISM").subscribe(function(u){o.stereoChemistryTypeList=u.STEREOCHEMISTRY_TYPE.list,o.opticalActivityList=u.OPTICAL_ACTIVITY.list,o.atropisomerismList=u.ATROPISOMERISM.list})}},{key:"updateAccess",value:function(o){this.privateStructure.access=o}},{key:"inCV",value:function(o,u){return!o||o.some(function(r){return u===r.value})}}]),h}();return g.\u0275fac=function(l){return new(l||g)(t.Y36(C.I),t.Y36(n.Xj))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-structure-form"]],inputs:{hideAccess:"hideAccess",showSettings:"showSettings",type:"type",structure:"structure"},outputs:{structureImported:"structureImported"},decls:1,vars:1,consts:[["class","structure-form",4,"ngIf"],[1,"structure-form"],[1,"form-row"],[1,"mol-formula"],["matInput","","placeholder","Molecular Formula","name","formula","required","",3,"ngModel","ngModelChange"],[1,"stereochemistry"],["name","stereochemistry",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"optical-activity"],["name","opticalActivity",3,"ngModel","ngModelChange"],[1,"atropisomerism"],["name","additionalStereochemistry",3,"ngModel","ngModelChange"],[1,"key-value-pair"],[1,"key"],[1,"value"],[4,"ngIf"],["class","form-row",4,"ngIf"],[3,"source"],[3,"value"],[1,"stereo-comments"],[1,"textarea-label"],["placeholder","Enter text here","name","stereoComments",3,"ngModel","ngModelChange"]],template:function(l,o){1&l&&t.YNc(0,S,44,15,"form",0),2&l&&t.Q6J("ngIf",o.structure&&"structure"===o.type)},directives:[e.O5,m._Y,m.JL,m.F,T.KE,f.Nt,m.Fj,m.Q7,m.JJ,m.On,T.hX,p.gD,e.sg,v.ey,M.n],styles:[".structure-form[_ngcontent-%COMP%]{padding:15px 7px}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .mol-formula[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .stereochemistry[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .optical-activity[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .atropisomerism[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.polymer-form[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.key-value-pair[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.key-value-pair[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{font-size:11px;padding-bottom:4px}.stereo-comments[_ngcontent-%COMP%]{width:100%;padding-top:10px}.settings_container[_ngcontent-%COMP%]{padding-left:7px}.settings_container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:45px;height:45px}.settings_container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:35px;height:35px}.WARNING[_ngcontent-%COMP%]{color:var(--warning-dialog-color);background-color:var(--warning-dialog-bg-color)}.ERROR[_ngcontent-%COMP%]{color:var(--error-dialog-color);background-color:var(--error-dialog-bg-color)}.dupe-check[_ngcontent-%COMP%]{margin-bottom:5px}.internal-link[_ngcontent-%COMP%]{color:var(--link-primary-color)}"]}),g}()},22544:function(y,Z,i){i.d(Z,{h:function(){return l}});var O=i(78069),E=i(48047),t=i(12570),C=i(95758),n=i(76442),e=i(83448),m=i(36362),T=i(87317);function f(o,u){if(1&o&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&o){var r=n.oxw();n.xp6(1),n.hij(" Are you sure you'd like to restore version ",r.version,"? ")}}function p(o,u){1&o&&(n.TgZ(0,"div"),n._uU(1," Restoring... "),n.qZA())}function v(o,u){1&o&&(n.TgZ(0,"div"),n._uU(1," Record restored successfullly. Close this dialog to redirect to the new version. "),n.qZA())}function M(o,u){if(1&o){var r=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"div"),n._uU(2," There was a problem restoring this version. "),n.qZA(),n.TgZ(3,"div"),n._uU(4,"Would you like to see the error details?"),n.qZA(),n.TgZ(5,"a",9),n.NdJ("click",function(){return n.CHM(r),n.oxw().status="error"}),n._uU(6,"Show errors"),n.qZA(),n.qZA()}}function R(o,u){if(1&o&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&o){var r=u.$implicit;n.xp6(1),n.hij(" ",r.message.message?r.message.message:r.message," ")}}function P(o,u){if(1&o&&(n.TgZ(0,"span"),n.YNc(1,R,2,1,"div",12),n.qZA()),2&o){var r=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",r.validationMessages)}}function I(o,u){if(1&o&&(n.TgZ(0,"div"),n.YNc(1,P,2,1,"span",3),n.qZA()),2&o){var r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",r.validationMessages.length>0)}}function b(o,u){if(1&o&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&o){var r=n.oxw(2);n.xp6(1),n.hij(" ",r.serverError," ")}}function U(o,u){1&o&&(n.TgZ(0,"div"),n.TgZ(1,"i"),n._uU(2,"No error information returned from the server"),n.qZA(),n.qZA())}function S(o,u){if(1&o&&(n.TgZ(0,"div",10),n.TgZ(1,"div",11),n._uU(2," Error restoring record. Here is some information on the error to share with a system admin / developers. "),n.qZA(),n.YNc(3,I,2,1,"div",3),n.YNc(4,b,2,1,"div",3),n.YNc(5,U,3,0,"div",3),n.qZA()),2&o){var r=n.oxw();n.xp6(3),n.Q6J("ngIf",r.validationMessages),n.xp6(1),n.Q6J("ngIf",r.serverError),n.xp6(1),n.Q6J("ngIf",!r.validationMessages&&!r.serverError)}}function N(o,u){1&o&&(n.TgZ(0,"button",14),n._uU(1,"Cancel"),n.qZA())}function g(o,u){if(1&o){var r=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){return n.CHM(r),n.oxw().accept()}),n._uU(1,"Accept"),n.qZA()}}function h(o,u){if(1&o){var r=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){return n.CHM(r),n.oxw().close()}),n._uU(1,"Close"),n.qZA()}}var l=function(){var o=function(){function u(r,c,D,x){(0,O.Z)(this,u),this.loadingService=r,this.substanceService=c,this.dialogRef=D,this.data=x}return(0,E.Z)(u,[{key:"ngOnInit",value:function(){this.substance=this.data.substance,this.latest=this.data.latest,this.version=this.data.version,this.status="start"}},{key:"close",value:function(){this.dialogRef.close("success")}},{key:"accept",value:function(){var c=this;this.status="running",this.loadingService.setLoading(!0),this.substanceService.getSubstanceDetails(this.substance.uuid,this.version).subscribe(function(D){c.substance.changeReason="reverted to version "+c.version,c.substance.version=c.latest,c.substanceService.saveSubstance(c.substance).subscribe(function(x){c.substance=x,c.status="complete",c.loadingService.setLoading(!1)},function(x){c.status="failed",c.loadingService.setLoading(!1),x&&x.error&&x.error.validationMessages?c.validationMessages=x.error.validationMessages:c.serverError=x})},function(D){c.status="failed",c.loadingService.setLoading(!1),console.log(D)})}}]),u}();return o.\u0275fac=function(r){return new(r||o)(n.Y36(e.b),n.Y36(t.d),n.Y36(C.so),n.Y36(C.WI))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-substance-history-dialog"]],decls:15,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"main-text"],[4,"ngIf"],["class","errors",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","","color","primary","matDialogClose","",4,"ngIf"],[1,"middle-fill"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[1,"primary-color",3,"click"],[1,"errors"],[1,"error-title"],["class","validation-message",4,"ngFor","ngForOf"],[1,"validation-message"],["mat-flat-button","","color","primary","matDialogClose",""],["mat-flat-button","","color","primary",3,"click"]],template:function(r,c){1&r&&(n.TgZ(0,"div",0),n.TgZ(1,"h3"),n._uU(2,"Version Control"),n.qZA(),n.qZA(),n.TgZ(3,"div",1),n.TgZ(4,"div",2),n.YNc(5,f,2,1,"div",3),n.YNc(6,p,2,0,"div",3),n.YNc(7,v,2,0,"div",3),n.YNc(8,M,7,0,"div",3),n.qZA(),n.YNc(9,S,6,3,"div",4),n.qZA(),n.TgZ(10,"div",5),n.YNc(11,N,2,0,"button",6),n._UZ(12,"span",7),n.YNc(13,g,2,0,"button",8),n.YNc(14,h,2,0,"button",8),n.qZA()),2&r&&(n.xp6(5),n.Q6J("ngIf","start"===c.status),n.xp6(1),n.Q6J("ngIf","running"===c.status),n.xp6(1),n.Q6J("ngIf","complete"===c.status),n.xp6(1),n.Q6J("ngIf","failed"===c.status),n.xp6(1),n.Q6J("ngIf","error"===c.status),n.xp6(2),n.Q6J("ngIf","complete"!==c.status),n.xp6(2),n.Q6J("ngIf","start"===c.status),n.xp6(1),n.Q6J("ngIf","complete"===c.status))},directives:[C.uh,C.xY,m.O5,m.sg,C.H8,T.lW,C.ZT],styles:[".main-text[_ngcontent-%COMP%]{font-size:18px;display:-ms-flexbox;display:flex;width:100%;margin-bottom:20px;min-height:50px}.validation-message[_ngcontent-%COMP%]{padding-bottom:12px}.primary-color[_ngcontent-%COMP%]{color:var(--link-primary-color)}.error-title[_ngcontent-%COMP%]{padding-bottom:20px}"]}),o}()}}]);
//# sourceMappingURL=common.39a4c3e8d46219f4.js.map