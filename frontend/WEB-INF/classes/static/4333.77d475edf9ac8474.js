"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[4333],{94333:function(ie,h,o){o.r(h),o.d(h,{StructureDetailsModule:function(){return te}});var p=o(48047),Z=o(78069),d=o(36362),C=o(80206),b=o(98568),S=o(20265),I=o(24582),y=o(1790),x=o(2756),A=o(52149),w=o(24874),_=o(50253),m=o(59295),q=o(53141),e=o(76442),U=o(50318),D=o(95758),M=o(54244),T=o(65590),O=o(9292),N=o(73430),v=o(26131);function Q(t,r){if(1&t&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2,"Additional stereochemistry"),e.qZA(),e.TgZ(3,"div",14),e._uU(4),e.qZA(),e.qZA()),2&t){var n=e.oxw(2);e.xp6(4),e.Oqu(n.structure.atropisomerism)}}function $(t,r){if(1&t&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2,"Stereo Comments"),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA(),e.qZA()),2&t){var n=e.oxw(2);e.xp6(4),e.Oqu(n.structure.stereoComments)}}function P(t,r){if(1&t){var n=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"a",25),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleReferences()}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"mat-icon",26),e.qZA(),e.qZA(),e.qZA()}if(2&t){var i=e.oxw(2);e.xp6(4),e.hij("",!1===i.showDef?"Show":"Hide"," References"),e.xp6(1),e.s9C("svgIcon",i.defIcon)}}function Y(t,r){if(1&t){var n=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"a",25),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleSmiles()}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"mat-icon",26),e.qZA(),e.qZA(),e.qZA()}if(2&t){var i=e.oxw(2);e.xp6(4),e.hij("",!1===i.showSmiles?"Show":"Hide"," SMILES / InChi"),e.xp6(1),e.s9C("svgIcon",i.smilesIcon)}}function H(t,r){if(1&t){var n=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).toggleNames()}),e.TgZ(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"mat-icon",26),e.qZA()}if(2&t){var i=e.oxw(3);e.xp6(2),e.hij("",!1===i.showNames?"Show":"Hide"," Systematic Names"),e.xp6(1),e.s9C("svgIcon",i.nameIcon)}}function E(t,r){1&t&&(e.TgZ(0,"span",30),e._uU(1,"No Systematic Names"),e.qZA())}function z(t,r){if(1&t&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.YNc(2,H,4,2,"a",27),e.YNc(3,E,2,0,"span",28),e.qZA(),e.qZA()),2&t){var n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",n.systematic.length>0),e.xp6(1),e.Q6J("ngIf",n.systematic.length<1)}}function k(t,r){if(1&t&&(e.TgZ(0,"a",31),e._UZ(1,"mat-icon",32),e.qZA()),2&t){var n=e.oxw(2);e.Q6J("href",n.searchHref,e.LSH)}}function F(t,r){if(1&t&&e._UZ(0,"img",33),2&t){var n=e.oxw(2);e.Q6J("entityId",n.structure.id)("stereo",n.showStereo)("version",n.substance.version)}}function R(t,r){if(1&t&&e._UZ(0,"img",34),2&t){var n=e.oxw(2);e.Q6J("entityId",n.substance.uuid)("stereo",n.showStereo)}}function L(t,r){if(1&t){var n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",8),e.TgZ(2,"div"),e.TgZ(3,"div",9),e.TgZ(4,"div",10),e._uU(5,"Stereochemistry"),e.qZA(),e.TgZ(6,"div",11),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",9),e.TgZ(9,"div",10),e._uU(10,"Molecular Formula"),e.qZA(),e._UZ(11,"div",12),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"div",10),e._uU(14,"Molecular Weight"),e.qZA(),e.TgZ(15,"div",13),e._uU(16),e.ALo(17,"number"),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._uU(20,"Optical Activity"),e.qZA(),e.TgZ(21,"div",14),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div",9),e.TgZ(24,"div",10),e._uU(25,"Defined Stereocenters"),e.qZA(),e.TgZ(26,"div",14),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"div",9),e.TgZ(29,"div",10),e._uU(30,"E/Z Centers"),e.qZA(),e.TgZ(31,"div",14),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"div",9),e.TgZ(34,"div",10),e._uU(35,"Charge"),e.qZA(),e.TgZ(36,"div",14),e._uU(37),e.qZA(),e.qZA(),e.YNc(38,Q,5,1,"div",15),e.YNc(39,$,5,1,"div",15),e.YNc(40,P,6,2,"div",15),e.YNc(41,Y,6,2,"div",15),e.YNc(42,z,4,2,"div",15),e.qZA(),e.TgZ(43,"div",16),e.TgZ(44,"div",17),e.TgZ(45,"a",18),e._UZ(46,"mat-icon",19),e.qZA(),e.YNc(47,k,2,1,"a",20),e.qZA(),e.YNc(48,F,1,3,"img",21),e.YNc(49,R,1,2,"img",22),e._UZ(50,"br"),e.TgZ(51,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw().toggleStereo()}),e._uU(52),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){var i=e.oxw();e.xp6(7),e.Oqu(i.structure.stereochemistry),e.xp6(4),e.Q6J("innerHTML",i.structure.formula,e.oJD),e.xp6(5),e.Oqu(e.xi3(17,20,i.structure.mwt,i.rounding)),e.xp6(6),e.Oqu(i.structure.opticalActivity),e.xp6(5),e.AsE("",i.structure.definedStereo," / ",i.structure.stereoCenters,""),e.xp6(5),e.Oqu(i.structure.ezCenters),e.xp6(5),e.Oqu(i.structure.charge),e.xp6(1),e.Q6J("ngIf",i.structure.atropisomerism),e.xp6(1),e.Q6J("ngIf",i.structure.stereoComments),e.xp6(1),e.Q6J("ngIf",(null==i.structure.references?null:i.structure.references.length)>0),e.xp6(1),e.Q6J("ngIf",i.structure.smiles),e.xp6(1),e.Q6J("ngIf",i.systematic),e.xp6(3),e.MGl("download","",i.substance.approvalID?i.substance.approvalID.toString():i.substance.uuid.toString(),".mol"),e.Q6J("href",i.molfileHref,e.LSH),e.xp6(2),e.Q6J("ngIf",!i.substance.$$source||"staging"!==i.substance.$$source),e.xp6(1),e.Q6J("ngIf",!i.substance.$$source||"staging"!==i.substance.$$source),e.xp6(1),e.Q6J("ngIf",i.substance.$$source&&"staging"==i.substance.$$source),e.xp6(2),e.Q6J("disabled",0==i.structure.definedStereo),e.xp6(1),e.hij("",!1===i.showStereo?"Show":"Hide"," Stereo")}}function j(t,r){if(1&t&&(e.TgZ(0,"mat-list-item"),e._UZ(1,"span",35),e.qZA()),2&t){var n=r.$implicit;e.xp6(1),e.Q6J("innerHTML",n,e.oJD)}}function W(t,r){if(1&t&&e._UZ(0,"img",39),2&t){var n=e.oxw(2);e.Q6J("entityId",n.structure.id)("stereo",n.showStereo)("version",n.substance.version)}}function V(t,r){if(1&t&&e._UZ(0,"img",40),2&t){var n=e.oxw(2);e.Q6J("entityId",n.substance.uuid)("stereo",n.showStereo)}}function B(t,r){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,W,1,3,"img",37),e.YNc(2,V,1,2,"img",38),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.substance.$$source||"staging"!==n.substance.$$source),e.xp6(1),e.Q6J("ngIf",n.substance.$$source&&"staging"==n.substance.$$source)}}var X=function(){var t=function(r){function n(i,s,u,l,g,c,f){var a;return(0,Z.Z)(this,n),a=function J(t,r,n){return r=(0,S.Z)(r),(0,C.Z)(t,(0,b.Z)()?Reflect.construct(r,n||[],(0,S.Z)(t).constructor):r.apply(t,n))}(this,n),a.utilService=i,a.structureService=s,a.gaService=u,a.sanitizer=l,a.dialog=g,a.overlayContainerService=c,a.configService=f,a.showDef=!1,a.showSmiles=!1,a.defIcon="drop_down",a.smilesIcon="drop_down",a.nameIcon="drop_down",a.showStereo=!1,a.substanceUpdated=new _.x,a.showNames=!1,a.rounding="1.0-2",a}return(0,I.Z)(n,r),(0,p.Z)(n,[{key:"ngOnInit",value:function(){var s=this;if(null!=this.substance){this.getSysNames(),this.structure=this.substance.structure,this.substance.$$source&&"staging"===this.substance.$$source&&(this.structure.id=this.substance.uuid),this.structure.smiles&&(this.structureService.getInchi(this.substance.uuid).pipe((0,m.q)(1)).subscribe(function(c){s.inchi=c.replace(/\"/g,"")}),this.structureService.getOtherInchi(this.substance.uuid).pipe((0,m.q)(1)).subscribe(function(c){s.otherInchi=c.replace(/\"/g,"")})),this.structure.formula=this.structureService.formatFormula(this.structure);var g=this.sanitizer.bypassSecurityTrustUrl("data:text;charset=UTF-8,"+encodeURIComponent(this.structure.molfile));this.molfileHref=g,this.searchHref="structure-search?structure="+this.structure.id}this.overlayContainer=this.overlayContainerService.getContainerElement(),this.configService.configData&&this.configService.configData.molWeightRounding&&(this.rounding="1.0-"+this.configService.configData.molWeightRounding)}},{key:"getSysNames",value:function(){var s=this;this.substance&&this.substance.names&&(this.systematic=[],this.substance.names.forEach(function(u){"sys"===u.type&&s.systematic.push(u.name)}))}},{key:"openModal",value:function(s){var u=this,l=this.dialog.open(s,{width:"650px",panelClass:"structure-image-panel"});this.overlayContainer.style.zIndex="1002",l.afterClosed().subscribe(function(g){u.overlayContainer.style.zIndex=null})}},{key:"ngAfterViewInit",value:function(){var s=this;this.substanceUpdated.subscribe(function(u){if(s.substance=u,!s.structure||s.structure.id!==s.substance.structure.id||s.structure.molfile!==s.substance.structure.molfile){s.getSysNames(),s.structure.smiles&&(s.structureService.getInchi(s.substance.uuid).pipe((0,m.q)(1)).subscribe(function(a){s.inchi=a.replace(/\"/g,"")}),s.structureService.getOtherInchi(s.substance.uuid).pipe((0,m.q)(1)).subscribe(function(a){s.otherInchi=a.replace(/\"/g,"")})),s.structure=s.substance.structure;var f=s.sanitizer.bypassSecurityTrustUrl("data:text;charset=UTF-8,"+encodeURIComponent(s.structure.molfile));s.molfileHref=f}})}},{key:"toggleReferences",value:function(){this.gaService.sendEvent(this.analyticsEventCategory,"link-toggle","references",this.showDef?0:1),this.showDef=!this.showDef,this.defIcon=this.showDef?"drop_up":"drop_down"}},{key:"toggleNames",value:function(){this.showNames=!this.showNames,this.nameIcon=this.showNames?"drop_up":"drop_down"}},{key:"toggleSmiles",value:function(){this.gaService.sendEvent(this.analyticsEventCategory,"link-toggle","smiles",this.showSmiles?0:1),this.showSmiles=!this.showSmiles,this.smilesIcon=this.showSmiles?"drop_up":"drop_down"}},{key:"toggleStereo",value:function(){this.gaService.sendEvent(this.analyticsEventCategory,"link-toggle","stereo",this.showStereo?0:1),this.showStereo=!this.showStereo}}]),n}(x.B);return t.\u0275fac=function(n){return new(n||t)(e.Y36(A.F),e.Y36(y.D),e.Y36(w.$),e.Y36(U.H7),e.Y36(D.uw),e.Y36(M.Xj),e.Y36(q.E))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-structure-details"]],features:[e.qOj],decls:26,vars:10,consts:[[4,"ngIf"],[2,"width","100%"],[2,"min-width","50%",3,"hidden"],[3,"substance","references"],[2,"width","100%",3,"hidden"],[1,"indent"],[4,"ngFor","ngForOf"],["structureTemplate",""],[1,"structure-card-content"],[1,"name-value"],[1,"name"],[1,"value","black-pill"],[1,"value","blue-font",3,"innerHTML"],[1,"value","blue-font"],[1,"value","gray-pill"],["class","name-value",4,"ngIf"],[1,"structure-image-container","text-center"],[1,"float-right"],["title","Download molfile",1,"mat-icon-button",3,"href","download"],["svgIcon","get_app"],["class","mat-icon-button","title","Structure Search",3,"href",4,"ngIf"],["class","structure-img","appSubstanceImage","","size","250",3,"entityId","stereo","version",4,"ngIf"],["class","structure-img","appSubstanceImage","","size","250",3,"entityId","stereo",4,"ngIf"],[1,"mat-raised-button","mat-primary",3,"disabled","click"],[1,"value","stereo-comments"],["tabindex","0","role","link",1,"blue-font","references-link",3,"click"],[3,"svgIcon"],["class","blue-font references-link",3,"click",4,"ngIf"],["class","disabled",4,"ngIf"],[1,"blue-font","references-link",3,"click"],[1,"disabled"],["title","Structure Search",1,"mat-icon-button",3,"href"],["svgIcon","search"],["appSubstanceImage","","size","250",1,"structure-img",3,"entityId","stereo","version"],["appSubstanceImage","","size","250",1,"structure-img",3,"entityId","stereo"],[3,"innerHTML"],["mat-dialog-content",""],["class","structure-img-big","appSubstanceImage","","size","250",3,"entityId","stereo","version",4,"ngIf"],["class","structure-img-big","appSubstanceImage","","size","250",3,"entityId","stereo",4,"ngIf"],["appSubstanceImage","","size","250",1,"structure-img-big",3,"entityId","stereo","version"],["appSubstanceImage","","size","250",1,"structure-img-big",3,"entityId","stereo"]],template:function(n,i){1&n&&(e.YNc(0,L,53,23,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h3"),e._uU(4,"References"),e.qZA(),e._UZ(5,"app-references-manager",3),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"h3"),e._uU(8,"SMILES:"),e.qZA(),e.TgZ(9,"p",5),e._uU(10),e.qZA(),e.TgZ(11,"h3"),e._uU(12,"InChiKey:"),e.qZA(),e.TgZ(13,"p",5),e._uU(14),e.qZA(),e.TgZ(15,"h3"),e._uU(16,"InChi:"),e.qZA(),e.TgZ(17,"p",5),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"div",4),e.TgZ(20,"h3"),e._uU(21,"Systematic Names:"),e.qZA(),e.TgZ(22,"mat-list"),e.YNc(23,j,2,1,"mat-list-item",6),e.qZA(),e.qZA(),e.YNc(24,B,3,2,"ng-template",null,7,e.W1O),e.qZA()),2&n&&(e.Q6J("ngIf",i.structure),e.xp6(2),e.Q6J("hidden",!i.showDef),e.xp6(3),e.Q6J("substance",i.substance)("references",i.structure.references),e.xp6(1),e.Q6J("hidden",!i.showSmiles),e.xp6(4),e.Oqu(i.structure.smiles),e.xp6(4),e.Oqu(i.inchi),e.xp6(4),e.Oqu(i.otherInchi),e.xp6(1),e.Q6J("hidden",!i.showNames),e.xp6(4),e.Q6J("ngForOf",i.systematic))},directives:[d.O5,T.Hw,O.m,N.C,v.i$,d.sg,v.Tg],pipes:[d.JJ],styles:[".structure-card-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.structure-image-container[_ngcontent-%COMP%]{padding-left:20px;-ms-flex-positive:1;flex-grow:1}.structure-image-container[_ngcontent-%COMP%]   .structure-img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in}.structure-img-big[_ngcontent-%COMP%]{width:100%;height:500px!important}.blue-font[_ngcontent-%COMP%]     sub{margin-bottom:-10px}.content-fix[_ngcontent-%COMP%]{min-height:250px;padding:15px 20px}.src-column[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:50%}.actions[_ngcontent-%COMP%]{height:75px}.fixActionRow[_ngcontent-%COMP%]{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.spacer[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}  .mat-dialog-container{height:unset!important;max-height:90%}.black-pill[_ngcontent-%COMP%], .gray-pill[_ngcontent-%COMP%]{color:var(--regular-white-color);padding:1px 7px;border-radius:11px}.black-pill[_ngcontent-%COMP%]{background-color:var(--regular-black-color)}.gray-pill[_ngcontent-%COMP%]{background-color:var(--regular-grey-color)}.name[_ngcontent-%COMP%]{min-width:175px}@media (max-width: 700px){.structure-card-content[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}}.references-link[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.float-right[_ngcontent-%COMP%]{float:right}.icon-button[_ngcontent-%COMP%]{padding:5px;height:34px;width:34px;min-width:34px;margin:2px}.indent[_ngcontent-%COMP%]{padding-left:15px;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.stereo-comments[_ngcontent-%COMP%]{max-width:175px}"]}),t}(),G=o(64061),K=o(38277),ee=o(24054),te=function(){var t=(0,p.Z)(function r(){(0,Z.Z)(this,r)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,G.o.forChild(X),T.Ps,K.V,ee.f,v.ie]]}),t}()}}]);
//# sourceMappingURL=4333.77d475edf9ac8474.js.map