"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[5353],{55353:function(K,m,r){r.r(m),r.d(m,{SubstanceFormReferencesModule:function(){return $}});var v=r(48047),p=r(78069),u=r(36362),Z=r(80206),x=r(98568),g=r(20265),T=r(24582),I=r(79550),J=r(91770),O=r(24874),M=r(24936),e=r(76442),N=r(95758),A=r(78444),Q=r(54244),h=r(44770),C=r(43365),d=r(90587),S=r(26439),z=r(51279),E=r(95465),b=r(19975),R=r(87317),y=r(65590);function D(n,s){if(1&n&&(e.TgZ(0,"mat-form-field",6),e._UZ(1,"input",7),e.qZA()),2&n){var o=e.oxw();e.Q6J("floatLabel","never"),e.xp6(1),e.Q6J("formControl",o.searchControl)}}var F=function(){return[5,10,25,100]};function U(n,s){if(1&n){var o=e.EpF();e.TgZ(0,"mat-paginator",8),e.NdJ("page",function(l){e.CHM(o);var i=e.oxw();return i.pageChange(l,i.analyticsEventCategory)}),e.qZA()}if(2&n){var t=e.oxw();e.Q6J("length",t.filtered&&t.filtered.length||0)("pageIndex",t.page)("pageSize",5)("pageSizeOptions",e.DdM(4,F))}}function P(n,s){1&n&&e._UZ(0,"mat-divider",12),2&n&&e.Q6J("inset",!0)}function L(n,s){if(1&n){var o=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"app-reference-form",10),e.NdJ("referenceDeleted",function(i){return e.CHM(o),e.oxw().deleteReference(i)}),e.qZA(),e.YNc(2,P,1,1,"mat-divider",11),e.qZA()}if(2&n){var t=s.$implicit,a=s.last;e.Q6J("id",t.uuid),e.xp6(1),e.Q6J("reference",t),e.xp6(1),e.Q6J("ngIf",!a)}}function H(n,s){if(1&n){var o=e.EpF();e.TgZ(0,"mat-paginator",8),e.NdJ("page",function(l){e.CHM(o);var i=e.oxw();return i.pageChange(l,i.analyticsEventCategory)}),e.qZA()}if(2&n){var t=e.oxw();e.Q6J("length",t.filtered&&t.filtered.length||0)("pageIndex",t.page)("pageSize",5)("pageSizeOptions",e.DdM(4,F))}}function j(n,s){if(1&n){var o=e.EpF();e.TgZ(0,"div",13),e._UZ(1,"span",2),e.TgZ(2,"button",14),e.NdJ("click",function(){return e.CHM(o),e.oxw().addSubstanceReference()}),e._uU(3," Add reference "),e._UZ(4,"mat-icon",15),e.qZA(),e.qZA()}}var B=function(){var n=function(s){function o(t,a,l,i,f){var c;return(0,p.Z)(this,o),c=function Y(n,s,o){return s=(0,g.Z)(s),(0,Z.Z)(n,(0,x.Z)()?Reflect.construct(s,o||[],(0,g.Z)(n).constructor):s.apply(n,o))}(this,o,[i]),c.substanceFormReferencesService=t,c.dialog=a,c.scrollToService=l,c.gaService=i,c.overlayContainerService=f,c.subscriptions=[],c.analyticsEventCategory="substance form references",c}return(0,T.Z)(o,s),(0,v.Z)(o,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("References"),this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"ngAfterViewInit",value:function(){var a=this,l=this.substanceFormReferencesService.substanceReferences.subscribe(function(i){a.references=i,a.filtered=i;var f=a.searchControl.valueChanges.subscribe(function(c){a.filterList(c,a.references,a.analyticsEventCategory)},function(c){console.log(c)});a.subscriptions.push(f),a.page=0,a.pageChange()});this.subscriptions.push(l)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(a){a.unsubscribe()})}},{key:"openReferenceFormDialog",value:function(){var a=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{access:[]},i=this.dialog.open(J.n,{data:l,width:"900px"});this.overlayContainer.style.zIndex="1002";var f=i.afterClosed().subscribe(function(c){a.overlayContainer.style.zIndex=null,null!=c&&c.doctype&&c.citation&&a.substanceFormReferencesService.addSubstanceReference(c)});this.subscriptions.push(f)}},{key:"addItem",value:function(){this.addSubstanceReference()}},{key:"addSubstanceReference",value:function(){var a=this,l=this.substanceFormReferencesService.addSubstanceReference({});setTimeout(function(){a.scrollToService.scrollToElement(l.uuid,"center")},10)}},{key:"deleteReference",value:function(a){this.substanceFormReferencesService.deleteSubstanceReference(a)}}]),o}(I.u);return n.\u0275fac=function(o){return new(o||n)(e.Y36(M.v),e.Y36(N.uw),e.Y36(A.i),e.Y36(O.$),e.Y36(Q.Xj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-substance-form-references-card"]],features:[e.qOj],decls:7,vars:5,consts:[[1,"flex-row"],["class","search",3,"floatLabel",4,"ngIf"],[1,"middle-fill"],["showFirstLastButtons","true",3,"length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],["class","reference","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["style","display: flex;",4,"ngIf"],[1,"search",3,"floatLabel"],["matInput","","placeholder","Search",3,"formControl"],["showFirstLastButtons","true",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["appScrollToTarget","",1,"reference",3,"id"],[3,"reference","referenceDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"],[2,"display","flex"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,D,2,2,"mat-form-field",1),e._UZ(2,"span",2),e.qZA(),e.YNc(3,U,1,5,"mat-paginator",3),e.YNc(4,L,3,3,"div",4),e.YNc(5,H,1,5,"mat-paginator",3),e.YNc(6,j,5,0,"div",5)),2&o&&(e.xp6(1),e.Q6J("ngIf",t.references&&t.references.length>t.pageSize),e.xp6(2),e.Q6J("ngIf",t.references&&t.references.length>5),e.xp6(1),e.Q6J("ngForOf",t.paged),e.xp6(1),e.Q6J("ngIf",t.references&&t.references.length>5),e.xp6(1),e.Q6J("ngIf",t.references&&t.references.length>0))},directives:[u.O5,h.KE,C.Nt,d.Fj,d.JJ,d.oH,S.NW,u.sg,z.P,E.b,b.d,R.lW,y.Hw],styles:[".mat-divider.mat-divider-inset[_ngcontent-%COMP%]{margin-left:0}.mat-divider[_ngcontent-%COMP%]{border-top-color:var(--text-color)}.reference[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--nth-child-color-2)}.reference[_ngcontent-%COMP%]:nth-child(odd)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-3)}.reference[_ngcontent-%COMP%]:nth-child(even)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-1)}.search[_ngcontent-%COMP%]{width:400px;max-width:100%}"]}),n}(),X=r(64061),V=r(7168),W=r(94673),$=function(){var n=(0,v.Z)(function s(){(0,p.Z)(this,s)});return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,X.o.forChild(B),V.O,b.t,W.w,y.Ps,R.ot,h.lN,d.UX,d.u5,S.TU,C.c]]}),n}()}}]);
//# sourceMappingURL=5353.4e7c7d24f6eb84b7.js.map