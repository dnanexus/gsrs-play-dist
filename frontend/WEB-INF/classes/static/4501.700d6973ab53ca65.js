"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[4501],{24501:function(q,v,r){r.r(v),r.d(v,{SubstanceFormMonomersModule:function(){return L}});var l=r(48047),d=r(78069),c=r(36362),b=r(10853),C=r(98568),f=r(20265),y=r(24582),x=r(79550),Z=r(24874),T=r(21584),e=r(76442),S=r(78444),O=r(51279),F=r(18291),A=r(63169),U=r(27164),P=r(95758),I=r(54244),u=r(87317),p=r(65590),k=r(24459),D=r(16667),g=r(61534),J=r(14900);function N(t,a){if(1&t){var o=e.EpF();e.TgZ(0,"div",20),e._uU(1," Deleted\xa0 "),e.TgZ(2,"button",21),e.NdJ("click",function(){return e.CHM(o),e.oxw().undoDelete()}),e._UZ(3,"mat-icon",22),e.qZA(),e.qZA()}}function Q(t,a){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){var o=e.oxw();e.xp6(1),e.hij(" Error retrieving monomer, missing reference uuid for ",o.privateMonomer.monomerSubstance.name," ")}}function Y(t,a){if(1&t&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&t){var o=e.oxw();e.xp6(1),e.hij(" ",o.displayAmount(o.privateMonomer.amount)," ")}}var j=function(){var t=function(){return(0,l.Z)(function a(o,n,i,m){(0,d.Z)(this,a),this.cvService=o,this.dialog=n,this.utilsService=i,this.overlayContainerService=m,this.monomerDeleted=new e.vpe,this.subscriptions=[]},[{key:"ngOnInit",value:function(){this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"monomer",get:function(){return this.privateMonomer},set:function(n){this.privateMonomer=n,this.relatedSubstanceUuid=this.privateMonomer.monomerSubstance?this.privateMonomer.monomerSubstance.refuuid:""}},{key:"updateType",value:function(n){this.privateMonomer.type=n}},{key:"definingChange",value:function(n){this.privateMonomer.defining=n.checked}},{key:"ngAfterViewInit",value:function(){}},{key:"deleteComponent",value:function(){var n=this;this.privateMonomer.$$deletedCode=this.utilsService.newUUID(),(!this.privateMonomer||!this.monomer)&&(this.deleteTimer=setTimeout(function(){n.monomerDeleted.emit(n.privateMonomer)},1e3))}},{key:"undoDelete",value:function(){clearTimeout(this.deleteTimer),delete this.privateMonomer.$$deletedCode}},{key:"componentUpdated",value:function(n){null!==n?(this.privateMonomer.monomerSubstance={refPname:n._name,name:n._name,refuuid:n.uuid,substanceClass:"reference",approvalID:n.approvalID},this.relatedSubstanceUuid=this.privateMonomer.monomerSubstance.refuuid):(this.privateMonomer.monomerSubstance=null,this.relatedSubstanceUuid=null)}},{key:"openAmountDialog",value:function(){var n=this;this.privateMonomer.amount||(this.privateMonomer.amount={});var i=this.dialog.open(U.O,{data:{subsAmount:this.privateMonomer.amount},width:"1040px"});this.overlayContainer.style.zIndex="1002";var m=i.afterClosed().subscribe(function(s){n.overlayContainer.style.zIndex=null,n.privateMonomer.amount=s});this.subscriptions.push(m)}},{key:"displayAmount",value:function(n){return this.utilsService.displayAmount(n)}},{key:"formatValue",value:function(n){return n?"object"==typeof n?n.display?n.display:n.value?n.value:null:n:null}}])}();return t.\u0275fac=function(o){return new(o||t)(e.Y36(F.I),e.Y36(P.uw),e.Y36(A.FW),e.Y36(I.Xj))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-monomer-form"]],inputs:{monomer:"monomer"},outputs:{monomerDeleted:"monomerDeleted"},decls:22,vars:8,consts:[[1,"component-form-container","form-row"],["class","notification-backdrop",4,"ngIf"],[1,"delete-container"],["mat-icon-button","","matTooltip","Delete monomer",3,"click"],["svgIcon","delete_forever"],[1,"related-substance"],[1,"flex-column"],["eventCategory","substanceRelationshipRelatedSub","placeholder","Monomer Substance","header","Monomer Substance",3,"subuuid","name","selectionUpdated"],[4,"ngIf"],[1,"type"],["domain","MONOMER_TYPE","title","Monomer Type",3,"model","valueChange"],[1,"amount"],[1,"label","padded","amount-label"],["mat-icon-button","","matTooltip","add",3,"click"],["svgIcon","add_circle_outline"],["class","amount-display",4,"ngIf"],[1,"checkbox-container","column-checkbox"],[3,"checked","change"],[1,"form-row"],[3,"source"],[1,"notification-backdrop"],["mat-icon-button","","matTooltip","Undo",3,"click"],["svgIcon","undo"],[1,"amount-display"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,N,4,0,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return n.deleteComponent()}),e._UZ(4,"mat-icon",4),e.qZA(),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"app-substance-selector",7),e.NdJ("selectionUpdated",function(m){return n.componentUpdated(m)}),e.qZA(),e.YNc(8,Q,2,1,"span",8),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.TgZ(10,"app-cv-input",10),e.NdJ("valueChange",function(m){return n.updateType(m)}),e.qZA(),e.qZA(),e.TgZ(11,"div",11),e.TgZ(12,"div",12),e._uU(13," Amount "),e.TgZ(14,"button",13),e.NdJ("click",function(){return n.openAmountDialog()}),e._UZ(15,"mat-icon",14),e.qZA(),e.qZA(),e.YNc(16,Y,2,1,"div",15),e.qZA(),e.TgZ(17,"div",16),e.TgZ(18,"mat-checkbox",17),e.NdJ("change",function(m){return n.definingChange(m)}),e._uU(19,"Defining"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",18),e._UZ(21,"app-audit-info",19),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.monomer.$$deletedCode),e.xp6(6),e.Q6J("subuuid",n.relatedSubstanceUuid)("name",n.privateMonomer.monomerSubstance?n.privateMonomer.monomerSubstance.name:""),e.xp6(1),e.Q6J("ngIf",n.privateMonomer.monomerSubstance&&n.privateMonomer.monomerSubstance.uuid&&!n.privateMonomer.monomerSubstance.refuuid),e.xp6(2),e.Q6J("model",n.monomer.type),e.xp6(6),e.Q6J("ngIf",n.privateMonomer.amount),e.xp6(2),e.Q6J("checked",n.privateMonomer.defining),e.xp6(3),e.Q6J("source",n.privateMonomer))},directives:[c.O5,u.lW,p.Hw,k.Q,D.S,g.oG,J.n],styles:[".notification-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:-ms-flexbox;display:flex;z-index:10;background-color:var(--notif-backdrop-bg-color);-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:var(--notif-backdrop-color)}.component-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .related-substance[_ngcontent-%COMP%]{width:30%}.form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{width:25%;-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{min-width:15%}.amount-label[_ngcontent-%COMP%]{padding-bottom:10px}  .related-substance img{max-width:125px!important;margin:auto}.defining[_ngcontent-%COMP%]{padding-bottom:20px}.column-checkbox[_ngcontent-%COMP%]     .mat-checkbox-layout{-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center}.column-checkbox[_ngcontent-%COMP%]     .mat-checkbox-inner-container{margin-right:unset;margin-left:unset}.column-checkbox[_ngcontent-%COMP%]     .mat-checkbox-layout .mat-checkbox-label{padding-left:0;font-size:11px;padding-bottom:7.5px;line-height:11px}.checkbox-container[_ngcontent-%COMP%], .radio-container[_ngcontent-%COMP%]{padding-bottom:16px;padding-right:15px}"]}),t}(),h=r(19975);function $(t,a){1&t&&e._UZ(0,"mat-divider",8),2&t&&e.Q6J("inset",!0)}function R(t,a){if(1&t){var o=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"app-monomer-form",6),e.NdJ("monomerDeleted",function(K){return e.CHM(o),e.oxw().deleteCode(K)}),e.qZA(),e.YNc(2,$,1,1,"mat-divider",7),e.qZA()}if(2&t){var n=a.$implicit,i=a.last;e.Q6J("id","substance-monomer-"+a.index),e.xp6(1),e.Q6J("monomer",n),e.xp6(1),e.Q6J("ngIf",!i)}}var z=function(){var t=function(a){function o(n,i,m){var s;return(0,d.Z)(this,o),s=function E(t,a,o){return a=(0,f.Z)(a),(0,b.Z)(t,(0,C.Z)()?Reflect.construct(a,o||[],(0,f.Z)(t).constructor):a.apply(t,o))}(this,o,[m]),s.substanceFormMonomersService=n,s.scrollToService=i,s.gaService=m,s.subscriptions=[],s.analyticsEventCategory="substance form monomers",s}return(0,y.Z)(o,a),(0,l.Z)(o,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("Monomers")}},{key:"ngAfterViewInit",value:function(){var i=this,m=this.substanceFormMonomersService.substanceMonomers.subscribe(function(s){i.monomers=s});this.subscriptions.push(m)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(i){i.unsubscribe()})}},{key:"addItem",value:function(){this.addMonomer()}},{key:"addMonomer",value:function(){var i=this;this.substanceFormMonomersService.addSubstanceMonomer(),setTimeout(function(){i.scrollToService.scrollToElement("substance-monomer-0","center")})}},{key:"deleteMonomer",value:function(i){this.substanceFormMonomersService.deleteSubstanceMonomer(i)}}])}(x.u);return t.\u0275fac=function(o){return new(o||t)(e.Y36(T.C),e.Y36(S.i),e.Y36(Z.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-substance-form-monomers-card"]],features:[e.qOj],decls:8,vars:1,consts:[[1,"flex-row"],[1,"middle-fill"],["class","monomer","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"],["appScrollToTarget","",1,"monomer",3,"id"],[3,"monomer","monomerDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.qZA(),e.YNc(2,R,3,3,"div",2),e.TgZ(3,"div",0),e._UZ(4,"span",1),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.addMonomer()}),e._uU(6," Add Monomer "),e._UZ(7,"mat-icon",4),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngForOf",n.monomers))},directives:[c.sg,O.P,j,c.O5,h.d,u.lW,p.Hw],styles:[".mat-divider.mat-divider-inset[_ngcontent-%COMP%]{margin-left:0}.mat-divider[_ngcontent-%COMP%]{border-top-color:var(--text-color)}.code[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--nth-child-color-2)}.code[_ngcontent-%COMP%]:nth-child(odd)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-3)}.code[_ngcontent-%COMP%]:nth-child(even)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-1)}.code[_ngcontent-%COMP%]     .mat-expansion-panel, .code[_ngcontent-%COMP%]     .mat-table, .code[_ngcontent-%COMP%]     textarea{background-color:var(--regular-transparent-color)}.search[_ngcontent-%COMP%]{width:400px;max-width:100%}"]}),t}(),V=r(64061),H=r(7168),X=r(94673),w=r(44770),M=r(90587),W=r(26439),B=r(43365),G=r(63200),L=function(){var t=(0,l.Z)(function a(){(0,d.Z)(this,a)});return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,V.o.forChild(z),H.O,h.t,p.Ps,u.ot,X.w,w.lN,M.UX,M.u5,W.TU,B.c,G.U,g.p9]]}),t}()}}]);
//# sourceMappingURL=4501.700d6973ab53ca65.js.map