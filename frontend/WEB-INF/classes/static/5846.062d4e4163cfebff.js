"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[5846],{65846:function(q,h,n){n.r(h),n.d(h,{SubstanceFormOtherLinksModule:function(){return B}});var u=n(48047),m=n(78069),d=n(36362),C=n(75143),b=n(7168),f=n(19975),v=n(65590),p=n(87317),y=n(94673),L=n(44770),g=n(90587),T=n(26439),Z=n(43365),k=n(40089),S=n(31959),x=n(80206),F=n(98568),O=n(20265),D=n(24582),M=n(79550),A=n(40104),P=n(71896),t=n(76442),I=n(78444),U=n(51279),E=(n(27299),n(63169)),J=n(18291),N=n(39401),Y=n(33567),Q=n(95758),V=n(54244),$=n(16667),j=n(14900);function H(o,r){if(1&o){var i=t.EpF();t.TgZ(0,"div",13),t._uU(1," Deleted\xa0 "),t.TgZ(2,"button",14),t.NdJ("click",function(){return t.CHM(i),t.oxw().undoDelete()}),t._UZ(3,"mat-icon",15),t.qZA(),t.qZA()}}var R=function(){var o=function(){function r(i,e,s,a,l){(0,m.Z)(this,r),this.cvService=i,this.dialog=e,this.utilsService=s,this.overlayContainerService=a,this.substanceFormService=l,this.linkDeleted=new t.vpe,this.subscriptions=[]}return(0,u.Z)(r,[{key:"ngOnInit",value:function(){this.getVocabularies(),this.overlayContainer=this.overlayContainerService.getContainerElement(),this.updateDisplay()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){e.unsubscribe()})}},{key:"link",get:function(){return this.privateLink},set:function(e){this.privateLink=e}},{key:"updateDisplay",value:function(){this.siteDisplay=this.substanceFormService.siteString(this.privateLink.sites)}},{key:"deleteLink",value:function(){var e=this;this.privateLink.$$deletedCode=this.utilsService.newUUID(),this.deleteTimer=setTimeout(function(){e.linkDeleted.emit(e.link),e.substanceFormService.emitOtherLinkUpdate()},2e3)}},{key:"undoDelete",value:function(){clearTimeout(this.deleteTimer),delete this.privateLink.$$deletedCode}},{key:"getVocabularies",value:function(){var e=this,s=this.cvService.getDomainVocabulary("OTHER_LINKAGE_TYPE").subscribe(function(a){e.linkageTypes=a.OTHER_LINKAGE_TYPE.list});this.subscriptions.push(s)}},{key:"openDialog",value:function(){var e=this,s=this.dialog.open(N.r,{data:{card:"other",link:this.privateLink.sites},width:"1040px",panelClass:"subunit-dialog"});this.overlayContainer.style.zIndex="1002";var a=s.afterClosed().subscribe(function(c){e.overlayContainer.style.zIndex=null,c&&(e.privateLink.sites=c,e.substanceFormService.emitOtherLinkUpdate()),e.updateDisplay()});s.backdropClick().subscribe(function(c){}).unsubscribe(),this.subscriptions.push(a)}}]),r}();return o.\u0275fac=function(i){return new(i||o)(t.Y36(J.I),t.Y36(Q.uw),t.Y36(E.FW),t.Y36(V.Xj),t.Y36(Y.B))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-other-links-form"]],inputs:{link:"link"},outputs:{linkDeleted:"linkDeleted"},decls:15,vars:4,consts:[[1,"link-form-container"],["class","notification-backdrop",4,"ngIf"],[1,"form-row"],[1,"delete-container"],["mat-icon-button","","matTooltip","Delete link",3,"click"],["svgIcon","delete_forever"],[1,"type"],["domain","OTHER_LINKAGE_TYPE","title","Sequence Type",3,"model","valueChange"],[1,"links"],[1,"label"],["mat-icon-button","","matTooltip","Select sites from display",3,"click"],["svgIcon","edit"],[3,"source"],[1,"notification-backdrop"],["mat-icon-button","","matTooltip","Undo",3,"click"],["svgIcon","undo"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.YNc(1,H,4,0,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return e.deleteLink()}),t._UZ(5,"mat-icon",5),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"app-cv-input",7),t.NdJ("valueChange",function(a){return e.link.linkageType=a}),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t._uU(10,"link"),t.qZA(),t._uU(11),t.TgZ(12,"button",10),t.NdJ("click",function(){return e.openDialog()}),t._UZ(13,"mat-icon",11),t.qZA(),t.qZA(),t.qZA(),t._UZ(14,"app-audit-info",12),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",e.link.$$deletedCode),t.xp6(6),t.Q6J("model",e.link.linkageType),t.xp6(4),t.hij(" ",e.siteDisplay," "),t.xp6(3),t.Q6J("source",e.link))},directives:[d.O5,p.lW,k.gM,v.Hw,$.S,j.n],styles:[".link-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative}.notification-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:-ms-flexbox;display:flex;z-index:10;background-color:var(--notif-backdrop-bg-color);-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:var(--notif-backdrop-color)}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{width:40%}.selectedSite[_ngcontent-%COMP%]{padding-left:2px;padding-right:2px}"]}),o}();function X(o,r){1&o&&t._UZ(0,"mat-divider",8),2&o&&t.Q6J("inset",!0)}function G(o,r){if(1&o){var i=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"app-other-links-form",6),t.NdJ("linkDeleted",function(c){return t.CHM(i),t.oxw().deleteLink(c)}),t.qZA(),t.YNc(2,X,1,1,"mat-divider",7),t.qZA()}if(2&o){var e=r.$implicit,s=r.last;t.Q6J("id","substance-other-links-"+r.index),t.xp6(1),t.Q6J("link",e),t.xp6(1),t.Q6J("ngIf",!s)}}var K=function(){var o=function(r){function i(e,s,a){var l;return(0,m.Z)(this,i),l=function z(o,r,i){return r=(0,O.Z)(r),(0,x.Z)(o,(0,F.Z)()?Reflect.construct(r,i||[],(0,O.Z)(o).constructor):r.apply(o,i))}(this,i,[a]),l.substanceFormOtherLinksService=e,l.scrollToService=s,l.gaService=a,l.subscriptions=[],l.analyticsEventCategory="substance form otherLinks",l}return(0,D.Z)(i,r),(0,u.Z)(i,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("Other Links")}},{key:"ngAfterViewInit",value:function(){var s=this,a=this.substanceFormOtherLinksService.substanceOtherLinks.subscribe(function(l){s.otherLinks=l});this.subscriptions.push(a)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(s){s.unsubscribe()})}},{key:"addItem",value:function(){this.addOtherLink()}},{key:"addOtherLink",value:function(){var s=this;this.substanceFormOtherLinksService.addSubstanceOtherLink(),setTimeout(function(){s.scrollToService.scrollToElement("substance-other-links-0","center")})}},{key:"deleteLink",value:function(s){this.substanceFormOtherLinksService.deleteSubstanceOtherLink(s)}}]),i}(M.u);return o.\u0275fac=function(i){return new(i||o)(t.Y36(P.X),t.Y36(I.i),t.Y36(A.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-substance-form-other-links-card"]],features:[t.qOj],decls:8,vars:1,consts:[[1,"flex-row"],[1,"middle-fill"],["class","alternate-backgrounds","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"],["appScrollToTarget","",1,"alternate-backgrounds",3,"id"],[3,"link","linkDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.qZA(),t.YNc(2,G,3,3,"div",2),t.TgZ(3,"div",0),t._UZ(4,"span",1),t.TgZ(5,"button",3),t.NdJ("click",function(){return e.addOtherLink()}),t._uU(6," Add link "),t._UZ(7,"mat-icon",4),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("ngForOf",e.otherLinks))},directives:[d.sg,U.P,R,d.O5,f.d,p.lW,v.Hw],styles:[".mat-divider.mat-divider-inset[_ngcontent-%COMP%]{margin-left:0}.mat-divider[_ngcontent-%COMP%]{border-top-color:var(--box-shadow-color-3)}.code[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--nth-child-color-2)}.code[_ngcontent-%COMP%]:nth-child(odd)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-3)}.code[_ngcontent-%COMP%]:nth-child(even)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-1)}.code[_ngcontent-%COMP%]     .mat-expansion-panel, .code[_ngcontent-%COMP%]     .mat-table, .code[_ngcontent-%COMP%]     textarea{background-color:var(--regular-transparent-color)}"]}),o}(),W=n(91434),B=(n(64061),function(){var o=(0,u.Z)(function r(){(0,m.Z)(this,r)});return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,C.o0.forChild(K),b.O,f.t,v.Ps,p.ot,y.w,L.lN,g.UX,g.u5,T.TU,k.AV,S.vV,Z.c,W.LD]]}),o}())}}]);
//# sourceMappingURL=5846.062d4e4163cfebff.js.map