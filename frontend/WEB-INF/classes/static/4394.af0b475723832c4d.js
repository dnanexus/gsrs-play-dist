"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[4394],{64394:function(V,v,i){i.r(v),i.d(v,{SubstanceFormMixtureComponentsModule:function(){return k}});var u=i(48047),l=i(78069),c=i(36362),h=i(75143),x=i(7168),C=i(19975),p=i(65590),d=i(87317),M=i(94673),Z=i(44770),f=i(90587),y=i(26439),T=i(43365),b=i(80206),F=i(98568),g=i(20265),S=i(24582),U=i(79550),O=i(87625),A=i(40104),t=i(76442),I=i(78444),P=i(51279),D=i(63169),J=i(54244),N=i(24459),Q=i(16667);function Y(o,r){if(1&o){var e=t.EpF();t.TgZ(0,"div",11),t._uU(1," Deleted\xa0 "),t.TgZ(2,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().undoDelete()}),t._UZ(3,"mat-icon",13),t.qZA(),t.qZA()}}function E(o,r){1&o&&(t.TgZ(0,"span",14),t._uU(1,"*required"),t.qZA())}var $=function(){var o=function(){function r(e,n){(0,l.Z)(this,r),this.utilsService=e,this.overlayContainerService=n,this.componentDeleted=new t.vpe,this.invalid=!1}return(0,u.Z)(r,[{key:"onFocusout",value:function(){this.invalid=!this.privateComp.type}},{key:"ngOnInit",value:function(){this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"component",get:function(){return this.privateComp},set:function(n){this.privateComp=n,this.privateComp.substance&&(this.relatedSubstanceUuid=this.privateComp.substance.refuuid)}},{key:"updateType",value:function(n){this.privateComp.type=n,this.invalid=!this.privateComp.type}},{key:"deleteComponent",value:function(){var n=this;this.privateComp.$$deletedCode=this.utilsService.newUUID(),(!this.privateComp||!this.component)&&(this.deleteTimer=setTimeout(function(){n.componentDeleted.emit(n.privateComp)},1e3))}},{key:"undoDelete",value:function(){clearTimeout(this.deleteTimer),delete this.privateComp.$$deletedCode}},{key:"componentUpdated",value:function(n){this.component.substance={refPname:n._name,name:n._name,refuuid:n.uuid,substanceClass:"reference",approvalID:n.approvalID},this.relatedSubstanceUuid=this.component.substance.refuuid}}]),r}();return o.\u0275fac=function(e){return new(e||o)(t.Y36(D.FW),t.Y36(J.Xj))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mixture-component-form"]],hostBindings:function(e,n){1&e&&t.NdJ("focusout",function(){return n.onFocusout()})},inputs:{component:"component"},outputs:{componentDeleted:"componentDeleted"},decls:11,vars:6,consts:[[1,"component-form-container","form-row"],["class","notification-backdrop",4,"ngIf"],[1,"delete-container"],["mat-icon-button","","matTooltip","Delete code",3,"click"],["svgIcon","delete_forever"],[1,"related-substance"],[1,"flex-column"],["eventCategory","substanceRelationshipRelatedSub","placeholder","Mixture Component","header","Mixture Component",3,"subuuid","name","selectionUpdated"],[1,"type"],["domain","MIXTURE_TYPE","title","Mixture Component Type *",3,"ngClass","model","valueChange"],["class","invalid-note",4,"ngIf"],[1,"notification-backdrop"],["mat-icon-button","","matTooltip","Undo",3,"click"],["svgIcon","undo"],[1,"invalid-note"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Y,4,0,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return n.deleteComponent()}),t._UZ(4,"mat-icon",4),t.qZA(),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"app-substance-selector",7),t.NdJ("selectionUpdated",function(a){return n.componentUpdated(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"app-cv-input",9),t.NdJ("valueChange",function(a){return n.updateType(a)}),t.qZA(),t.YNc(10,E,2,0,"span",10),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.component.$$deletedCode),t.xp6(6),t.Q6J("subuuid",n.relatedSubstanceUuid)("name",n.component.substance?n.component.substance.name:""),t.xp6(2),t.Q6J("ngClass",n.invalid?"invalid":"")("model",n.component.type),t.xp6(1),t.Q6J("ngIf",n.invalid))},directives:[c.O5,d.lW,p.Hw,N.Q,Q.S,c.mk],styles:[".component-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .related-substance[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{width:30%;-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{width:30%}  .related-substance img{max-width:125px!important;margin:auto}.invalid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:var(--regular-red-color)}.invalid[_ngcontent-%COMP%]     .mat-form-field-label{color:var(--regular-red-color)}.invalid[_ngcontent-%COMP%]     .mat-select-arrow{color:var(--regular-red-color)}.invalid-note[_ngcontent-%COMP%]{margin-bottom:18px;font-style:italic;font-size:14px;color:var(--regular-red-color)}"]}),o}();function R(o,r){1&o&&t._UZ(0,"mat-divider",8),2&o&&t.Q6J("inset",!0)}function j(o,r){if(1&o){var e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"app-mixture-component-form",6),t.NdJ("componentDeleted",function(W){return t.CHM(e),t.oxw().deleteComponent(W)}),t.qZA(),t.YNc(2,R,1,1,"mat-divider",7),t.qZA()}if(2&o){var n=r.$implicit,s=r.last;t.Q6J("id","substance-mixture-component-"+r.index),t.xp6(1),t.Q6J("component",n),t.xp6(1),t.Q6J("ngIf",!s)}}var X=function(){var o=function(r){function e(n,s,a){var m;return(0,l.Z)(this,e),m=function H(o,r,e){return r=(0,g.Z)(r),(0,b.Z)(o,(0,F.Z)()?Reflect.construct(r,e||[],(0,g.Z)(o).constructor):r.apply(o,e))}(this,e,[a]),m.substanceFormMixtureComponentsService=n,m.scrollToService=s,m.gaService=a,m.subscriptions=[],m}return(0,S.Z)(e,r),(0,u.Z)(e,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("Components"),this.analyticsEventCategory="substance form mixture components"}},{key:"ngAfterViewInit",value:function(){var s=this,a=this.substanceFormMixtureComponentsService.substanceMixtureComponents.subscribe(function(m){s.relationships=m});this.subscriptions.push(a)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(s){s.unsubscribe()})}},{key:"addItem",value:function(){this.addComponent()}},{key:"addComponent",value:function(){var s=this;this.substanceFormMixtureComponentsService.addSubstanceMixtureComponent(),setTimeout(function(){s.scrollToService.scrollToElement("substance-mixture-component-0","center")})}},{key:"deleteComponent",value:function(s){this.substanceFormMixtureComponentsService.deleteSubstanceMixtureComponent(s)}}]),e}(U.u);return o.\u0275fac=function(e){return new(e||o)(t.Y36(O.b),t.Y36(I.i),t.Y36(A.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-substance-form-mixture-components-card"]],features:[t.qOj],decls:12,vars:1,consts:[[1,"flex-row"],[1,"middle-fill"],["class","relationship","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"],["appScrollToTarget","",1,"relationship",3,"id"],[3,"component","componentDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.qZA(),t.YNc(2,j,3,3,"div",2),t.TgZ(3,"div",0),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.addComponent()}),t._uU(5," Add component "),t._UZ(6,"mat-icon",4),t.qZA(),t.qZA(),t.TgZ(7,"div",0),t._UZ(8,"span",1),t.TgZ(9,"button",3),t.NdJ("click",function(){return n.addComponent()}),t._uU(10," Add component "),t._UZ(11,"mat-icon",4),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.relationships))},directives:[c.sg,P.P,$,c.O5,C.d,d.lW,p.Hw],styles:[""]}),o}(),B=i(63200),k=(i(64061),function(){var o=(0,u.Z)(function r(){(0,l.Z)(this,r)});return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,h.o0.forChild(X),x.O,C.t,p.Ps,d.ot,M.w,Z.lN,f.UX,f.u5,y.TU,T.c,B.U]]}),o}())}}]);
//# sourceMappingURL=4394.af0b475723832c4d.js.map