"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[7022],{87022:function(nt,f,e){e.r(f),e.d(f,{SubstanceConstituentsModule:function(){return tt}});var p=e(48047),C=e(78069),M=e(36362),g=e(98002),O=e(64061),b=e(80206),Z=e(98568),v=e(20265),P=e(24582),S=e(63169),T=e(50253),w=e(68756),A=e(40104),t=e(76442),m=e(95758),U=e(54244),x=e(44770),h=e(43365),d=e(90587),l=e(97217),J=e(9292),N=e(73430),y=e(26439);function Y(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Substance "),t.qZA())}var j=function(o){return["/substances",o]};function Q(n,o){if(1&n&&(t.TgZ(0,"td",16),t.TgZ(1,"div",17),t.TgZ(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"img",18),t.TgZ(5,"div"),t.TgZ(6,"a",19),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){var i=o.$implicit;t.xp6(3),t.Oqu(i.substance.linkingID),t.xp6(1),t.Q6J("entityId",i.substance.refuuid),t.xp6(2),t.Q6J("routerLink",t.VKq(4,j,i.substance.refuuid)),t.xp6(1),t.hij(" ",i.substance.name," ")}}function D(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Role "),t.qZA())}function z(n,o){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){var i=o.$implicit;t.xp6(1),t.hij(" ",i.role," ")}}function I(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Amount "),t.qZA())}function B(n,o){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){var i=o.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",a.toString(i.amount)," ")}}function _(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," References "),t.qZA())}function E(n,o){if(1&n){var i=t.EpF();t.TgZ(0,"h2",22),t._uU(1,"References"),t.qZA(),t.TgZ(2,"div",23),t._UZ(3,"app-references-manager",24),t.qZA(),t.TgZ(4,"div",25),t._UZ(5,"span",1),t.TgZ(6,"button",26),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).close()}),t._uU(7,"Close"),t.qZA(),t.qZA()}if(2&n){var a=t.oxw().$implicit,s=t.oxw();t.xp6(3),t.Q6J("substance",s.substance)("references",a.references)}}function H(n,o){if(1&n){var i=t.EpF();t.TgZ(0,"td",16),t.TgZ(1,"button",20),t.NdJ("click",function(){t.CHM(i);var c=t.MAs(4);return t.oxw().openModal(c)}),t._uU(2,"View"),t.qZA(),t.YNc(3,E,8,2,"ng-template",null,21,t.W1O),t.qZA()}if(2&n){var a=o.$implicit;t.xp6(1),t.Q6J("disabled",!a.references||a.references.length<=0)}}function F(n,o){1&n&&t._UZ(0,"tr",27)}function L(n,o){1&n&&t._UZ(0,"tr",28)}var $=function(){return[5,10,25,100]},W=function(){var n=function(o){function i(a,s,c,r){var u;return(0,C.Z)(this,i),u=function R(n,o,i){return o=(0,v.Z)(o),(0,b.Z)(n,(0,Z.Z)()?Reflect.construct(o,i||[],(0,v.Z)(n).constructor):o.apply(n,i))}(this,i,[s]),u.utilsService=a,u.gaService=s,u.dialog=c,u.overlayContainerService=r,u.substanceUpdated=new T.x,u.displayedColumns=["Substance","Role","Amount","References"],u}return(0,P.Z)(i,o),(0,p.Z)(i,[{key:"ngOnInit",value:function(){var s=this;this.substanceUpdated.subscribe(function(c){null!=c&&null!=c.specifiedSubstance&&c.specifiedSubstance.constituents&&(s.constituents=c.specifiedSubstance.constituents,s.filtered=s.substance.specifiedSubstance.constituents,s.pageChange(),s.searchControl.valueChanges.subscribe(function(r){s.filterList(r,s.constituents,s.analyticsEventCategory)},function(r){console.log(r)})),s.countUpdate.emit(s.constituents.length)}),this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"toString",value:function(s){return this.utilsService.displayAmount(s)}},{key:"openModal",value:function(s){var c=this;this.gaService.sendEvent(this.analyticsEventCategory,"button","references view");var r=this.dialog.open(s,{minWidth:"40%",maxWidth:"90%"});this.overlayContainer.style.zIndex="1002",r.afterClosed().subscribe(function(u){c.overlayContainer.style.zIndex=null})}},{key:"close",value:function(){this.dialog.closeAll()}}]),i}(w.uJ);return n.\u0275fac=function(i){return new(i||n)(t.Y36(S.FW),t.Y36(A.$),t.Y36(m.uw),t.Y36(U.Xj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-substance-constituents"]],features:[t.qOj],decls:21,vars:9,consts:[[1,"flex-row"],[1,"middle-fill"],[1,"search",3,"floatLabel"],["matInput","","placeholder","Search",3,"formControl"],[1,"responsive"],["mat-table","",3,"dataSource"],["matColumnDef","Substance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Role"],["matColumnDef","Amount"],["matColumnDef","References"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],[1,"thumb-col"],["appSubstanceImage","",1,"structure-image",3,"entityId"],[1,"substance-name",3,"routerLink"],[1,"mat-raised-button","mat-primary","dialog-close",3,"disabled","click"],["refTemplate",""],["mat-dialog-title",""],["mat-dialog-content",""],[3,"substance","references"],["mat-dialog-actions",""],["mat-dialog-close","",1,"mat-raised-button","mat-primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,a){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"mat-form-field",2),t._UZ(3,"input",3),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"table",5),t.ynx(6,6),t.YNc(7,Y,2,0,"th",7),t.YNc(8,Q,8,6,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,D,2,0,"th",7),t.YNc(11,z,2,1,"td",8),t.BQk(),t.ynx(12,10),t.YNc(13,I,2,0,"th",7),t.YNc(14,B,2,1,"td",8),t.BQk(),t.ynx(15,11),t.YNc(16,_,2,0,"th",7),t.YNc(17,H,5,1,"td",8),t.BQk(),t.YNc(18,F,1,0,"tr",12),t.YNc(19,L,1,0,"tr",13),t.qZA(),t.qZA(),t.TgZ(20,"mat-paginator",14),t.NdJ("page",function(c){return a.pageChange(c,a.analyticsEventCategory)}),t.qZA()),2&i&&(t.xp6(2),t.Q6J("floatLabel","never"),t.xp6(1),t.Q6J("formControl",a.searchControl),t.xp6(2),t.Q6J("dataSource",a.paged),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("length",a.filtered&&a.filtered.length||0)("pageSize",5)("pageSizeOptions",t.DdM(8,$)))},directives:[x.KE,h.Nt,d.Fj,d.JJ,d.oH,l.BZ,l.w1,l.fO,l.ge,l.Dz,l.ev,J.m,g.yS,m.uh,m.xY,N.C,m.H8,m.ZT,l.as,l.XQ,l.nj,l.Gk,y.NW],styles:[".unit-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative;display:-ms-flexbox;display:flex}.related-substance[_ngcontent-%COMP%]{max-width:20%;width:20%}  .related-substance img{max-width:125px!important;margin:auto}.structure-image[_ngcontent-%COMP%]{max-width:150px}.full[_ngcontent-%COMP%]{width:100%}.form-container[_ngcontent-%COMP%]{width:80%}.notification-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:-ms-flexbox;display:flex;z-index:10;background-color:var(--notif-backdrop-bg-color);-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:var(--notif-backdrop-color)}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .attachment-count[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:50%}.form-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.inner-row-top[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.inner-row-top[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.inner-row-top[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .inner-row-top[_ngcontent-%COMP%]   .attachment-count[_ngcontent-%COMP%], .inner-row-top[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.inner-row-top[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:100%}.inner-row-top[_ngcontent-%COMP%]   .connectivity-container[_ngcontent-%COMP%]{width:50%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.inner-row-top[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.inner-row-bottom[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.inner-row-bottom[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:50%}.inner-row-bottom[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.references-container[_ngcontent-%COMP%]{width:100%}.padded[_ngcontent-%COMP%]{padding-right:20px}.amount-display[_ngcontent-%COMP%]{padding-top:11px}.form-actions[_ngcontent-%COMP%]{-ms-flex-pack:start;justify-content:flex-start;margin:5px 0 10px}.form-content[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.mod-type[_ngcontent-%COMP%], .location-type[_ngcontent-%COMP%], .sites[_ngcontent-%COMP%], .group-access[_ngcontent-%COMP%], .extent[_ngcontent-%COMP%], .amount[_ngcontent-%COMP%]{width:33%}.group[_ngcontent-%COMP%], .access[_ngcontent-%COMP%]{width:45%}"]}),n}(),X=e(11920),V=e(33865),K=e(40089),k=e(64316),G=e(65590),q=e(24054),tt=function(){var n=(0,p.Z)(function o(){(0,C.Z)(this,o)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[M.ez,g.Bz,O.o.forChild(W),l.p0,X.V,G.Ps,m.Is,y.TU,d.u5,x.lN,d.UX,h.c,V.HT,K.AV,g.Bz,k.JX,q.f]]}),n}()}}]);
//# sourceMappingURL=7022.51ff8f43daffd84d.js.map