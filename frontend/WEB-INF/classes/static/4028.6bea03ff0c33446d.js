"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[4028],{94028:function(pi,y,o){o.r(y),o.d(y,{SubstanceOverviewModule:function(){return ri}});var g=o(48047),m=o(78069),Z=o(36362),I=o(64061),D=o(10853),N=o(98568),S=o(20265),J=o(24582),Q=o(2756),Y=o(52149),M=o(24874),P=o(88951),V=o(12570),d=o(90587),x=o(93979),F=o(50253),E=o(18291),L=o(53141),$=o(22544),e=o(76442),j=o(50318),b=o(98002),R=o(83448),k=o(54244),H=o(95758),_=o(87317),q=o(40089),C=o(65590),p=o(82796),z=o(9292),O=o(44770),w=o(91434),K=o(1130),T=o(81196),B=o(73430),W=function(){var i=function(){return(0,g.Z)(function t(){(0,m.Z)(this,t)},[{key:"transform",value:function(u,a){var s=u.toLowerCase().replace(" ","");return"chemical"===s?"Chemical":"nucleicacid"===s?"Nucleic Acid":"protein"===s?"Protein":"specifiedsubstanceg1"===s?"Group 1 Specified Substance":"polymer"===s?"Polymer":"structurallydiverse"===s?"Structurally Diverse":"polymer"===s?"Polymer":"concept"===s?"Concept":"specifiedsubstanceg3"===s?"Group 3 Specified Substance":u}}])}();return i.\u0275fac=function(n){return new(n||i)},i.\u0275pipe=e.Yjl({name:"classDisplay",type:i,pure:!0}),i}();function X(i,t){if(1&i&&(e.TgZ(0,"a",29),e.TgZ(1,"span",30),e._uU(2,"open in old application in new tab"),e.qZA(),e._UZ(3,"mat-icon",31),e.qZA()),2&i){var n=e.oxw(2);e.Q6J("href",n.oldUrl,e.LSH)}}var ee=function(t){return["/substances",t,"edit"]};function ie(i,t){if(1&i&&(e.TgZ(0,"span"),e.TgZ(1,"a",32),e._UZ(2,"mat-icon",33),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.VKq(1,ee,n.substance.uuid))}}var ne=function(){return["/substances/register"]},te=function(t){return{stagingID:t}};function se(i,t){if(1&i&&(e.TgZ(0,"span"),e.TgZ(1,"a",34),e._UZ(2,"mat-icon",33),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.DdM(2,ne))("queryParams",e.VKq(3,te,n.substance._metadata.recordId))}}function ae(i,t){if(1&i&&(e.TgZ(0,"button",36),e._UZ(1,"mat-icon",10),e.qZA()),2&i){e.oxw(2);var n=e.MAs(12);e.Q6J("matMenuTriggerFor",n)}}function oe(i,t){if(1&i&&(e.TgZ(0,"a",38),e._UZ(1,"mat-icon",33),e.qZA()),2&i){var n=e.oxw(4);e.Q6J("href",n.baseDomain+n.clasicBaseHref+"substance/"+n.substance.uuid+"/edit",e.LSH)}}function ce(i,t){1&i&&e.YNc(0,oe,2,1,"ng-template",null,37,e.W1O)}function ue(i,t){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,ae,2,1,"button",35),e.YNc(2,ce,2,0,null,0),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.isEditable)("ngIfElse",n.editClassic),e.xp6(1),e.Q6J("ngIf",n.showlinks&&(!n.substance.$$source||"staging"!==n.substance.$$source))}}function re(i,t){if(1&i&&(e.TgZ(0,"a",39),e.TgZ(1,"span"),e._uU(2,"Download JSON"),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.MGl("download","",n.substance.approvalID?n.substance.approvalID.toString():n.substance.uuid.toString(),".json"),e.Q6J("href",n.downloadJsonHref,e.LSH)}}function ve(i,t){if(1&i&&(e.TgZ(0,"div",40),e.TgZ(1,"span",41),e._uU(2),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(2),e.hij(" ",n.substance.definitionLevel," DEFINITION ")}}function le(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(2),e.hij("Record ",n.approvalCode?n.approvalCode:"Approval ID",""),e.xp6(2),e.Oqu(n.substance._approvalIDDisplay)}}function de(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(2),e.Oqu(n.defaultCodeSystem),e.xp6(2),e.Oqu(n.defaultCodes)}}function pe(i,t){1&i&&(e.TgZ(0,"span"),e.TgZ(1,"span"),e._uU(2,"Not a public record"),e.qZA(),e._uU(3,"\xa0 "),e._UZ(4,"mat-icon",42),e.qZA())}function fe(i,t){1&i&&(e.TgZ(0,"span"),e._uU(1,"Public record"),e.qZA(),e._uU(2,"\xa0 "),e._UZ(3,"mat-icon",43))}function ge(i,t){1&i&&(e.TgZ(0,"span",45),e._uU(1,"RECORD IS DEPRECATED"),e.qZA())}function me(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Record Status"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.YNc(5,ge,2,0,"span",44),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(4),e.hij("","approved"===n.substance.status?n.primaryCode:n.substance.status," "),e.xp6(1),e.Q6J("ngIf",n.substance.deprecated)}}function Ze(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Protein Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.protein.proteinType)}}function be(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Protein Sub-type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.protein.proteinSubType.replace("|",", "))}}function _e(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Sequence Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.protein.sequenceType)}}function Te(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Sequence Origin"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.protein.sequenceOrigin)}}function Ae(i,t){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Ze,5,1,"div",17),e.YNc(2,be,5,1,"div",17),e.YNc(3,_e,5,1,"div",17),e.YNc(4,Te,5,1,"div",17),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.substance.protein.proteinType),e.xp6(1),e.Q6J("ngIf",n.substance.protein.proteinSubType),e.xp6(1),e.Q6J("ngIf",n.substance.protein.sequenceType),e.xp6(1),e.Q6J("ngIf",n.substance.protein.sequenceOrigin)}}function he(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Nucleic Acid Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.nucleicAcid.nucleicAcidType)}}function ye(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Nucleic Acid Sub-type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.nucleicAcid.nucleicAcidSubType.join(", "))}}function Se(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Sequence Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.nucleicAcid.sequenceType)}}function xe(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Sequence Origin"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.nucleicAcid.sequenceOrigin)}}function qe(i,t){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,he,5,1,"div",17),e.YNc(2,ye,5,1,"div",17),e.YNc(3,Se,5,1,"div",17),e.YNc(4,xe,5,1,"div",17),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.substance.nucleicAcid.nucleicAcidType),e.xp6(1),e.Q6J("ngIf",n.substance.nucleicAcid.nucleicAcidSubType&&n.substance.nucleicAcid.nucleicAcidSubType.length>0),e.xp6(1),e.Q6J("ngIf",n.substance.nucleicAcid.sequenceType),e.xp6(1),e.Q6J("ngIf",n.substance.nucleicAcid.sequenceOrigin)}}function Ce(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Source Materials Class"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.sourceMaterialClass)}}function Oe(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Source Materials Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.sourceMaterialType)}}function we(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Source Materials State"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.sourceMaterialState)}}var A=function(t){return["/substances",t]};function Ue(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Source Materials Parent"),e.qZA(),e.TgZ(3,"div",47),e._UZ(4,"img",48),e.TgZ(5,"div"),e.TgZ(6,"a",49),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Q6J("entityId",n.substance.structurallyDiverse.parentSubstance.refuuid),e.xp6(2),e.Q6J("routerLink",e.VKq(3,A,n.substance.structurallyDiverse.parentSubstance.refuuid)),e.xp6(1),e.hij(" ",n.substance.structurallyDiverse.parentSubstance.refPname," ")}}function Ie(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Family"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.organismFamily)}}function De(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Genus"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.organismGenus)}}function Ne(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Species"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.organismSpecies)}}function Je(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Infraspecific Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.infraSpecificType)}}function Qe(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Intraspecific Name"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.infraSpecificName)}}function Ye(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Author"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.organismAuthor)}}function Me(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Developmental Stage"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.developmentalStage)}}function Pe(i,t){1&i&&(e.TgZ(0,"span"),e._uU(1,", "),e.qZA())}function Ve(i,t){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,Pe,2,0,"span",0),e.qZA()),2&i){var n=t.$implicit,u=t.last;e.xp6(1),e.hij(" ",n,""),e.xp6(1),e.Q6J("ngIf",!u)}}function Fe(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Part"),e.qZA(),e.TgZ(3,"div",16),e.YNc(4,Ve,3,2,"span",50),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",n.substance.structurallyDiverse.part)}}function Ee(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Fraction Materials Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.fractionMaterialType)}}function Le(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Fraction Name"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.fractionName)}}function $e(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Hybrid Paternal Organism"),e.qZA(),e.TgZ(3,"div",47),e._UZ(4,"img",48),e.TgZ(5,"div"),e.TgZ(6,"a",49),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Q6J("entityId",n.substance.structurallyDiverse.hybridSpeciesPaternalOrganism.refuuid),e.xp6(2),e.Q6J("routerLink",e.VKq(3,A,n.substance.structurallyDiverse.hybridSpeciesPaternalOrganism.refuuid)),e.xp6(1),e.hij(" ",n.substance.structurallyDiverse.hybridSpeciesPaternalOrganism.refPname," ")}}function je(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Hybrid Maternal Organism"),e.qZA(),e.TgZ(3,"div",47),e._UZ(4,"img",48),e.TgZ(5,"div"),e.TgZ(6,"a",49),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Q6J("entityId",n.substance.structurallyDiverse.hybridSpeciesMaternalOrganism.refuuid),e.xp6(2),e.Q6J("routerLink",e.VKq(3,A,n.substance.structurallyDiverse.hybridSpeciesMaternalOrganism.refuuid)),e.xp6(1),e.hij(" ",n.substance.structurallyDiverse.hybridSpeciesMaternalOrganism.refPname," ")}}function Re(i,t){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Ce,5,1,"div",17),e.YNc(2,Oe,5,1,"div",17),e.YNc(3,we,5,1,"div",17),e.YNc(4,Ue,8,5,"div",17),e.YNc(5,Ie,5,1,"div",17),e.YNc(6,De,5,1,"div",17),e.YNc(7,Ne,5,1,"div",17),e.YNc(8,Je,5,1,"div",17),e.YNc(9,Qe,5,1,"div",17),e.YNc(10,Ye,5,1,"div",17),e.YNc(11,Me,5,1,"div",17),e.YNc(12,Fe,5,1,"div",17),e.YNc(13,Ee,5,1,"div",17),e.YNc(14,Le,5,1,"div",17),e.YNc(15,$e,8,5,"div",17),e.YNc(16,je,8,5,"div",17),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.sourceMaterialClass),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.sourceMaterialType),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.sourceMaterialState),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.parentSubstance),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.organismFamily),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.organismGenus),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.organismSpecies),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.infraSpecificType),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.infraSpecificName),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.organismAuthor),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.developmentalStage),e.xp6(1),e.Q6J("ngIf",(null==n.substance.structurallyDiverse.part?null:n.substance.structurallyDiverse.part.length)>0),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.fractionMaterialType),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.fractionName),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse&&n.substance.structurallyDiverse.hybridSpeciesPaternalOrganism),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse&&n.substance.structurallyDiverse.hybridSpeciesMaternalOrganism)}}function ke(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Record Version"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(4),e.Oqu(n.substance.version)}}function He(i,t){if(1&i&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&i){var n=t.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}function ze(i,t){if(1&i){var n=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).changeVersion()}),e._uU(1,"View"),e.qZA()}}function Ke(i,t){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Record Version"),e.qZA(),e.TgZ(3,"mat-form-field",51),e.TgZ(4,"mat-select",52),e.YNc(5,He,2,2,"mat-option",53),e.qZA(),e.qZA(),e.YNc(6,ze,2,0,"button",54),e.qZA()),2&i){var n=e.oxw(2);e.xp6(4),e.Q6J("formControl",n.versionControl),e.xp6(1),e.Q6J("ngForOf",n.versions),e.xp6(1),e.Q6J("ngIf",n.substance.version!=n.versionControl.value)}}function Be(i,t){if(1&i){var n=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).restoreVersion()}),e._uU(1,"Restore this version"),e.qZA()}}function We(i,t){if(1&i&&(e.TgZ(0,"div",57),e._uU(1),e.YNc(2,Be,2,0,"button",54),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.hij(" This is an older version of this substance - Ver. ",n.substance.version," "),e.xp6(1),e.Q6J("ngIf",n.isAdmin)}}function Ge(i,t){if(1&i&&(e.TgZ(0,"mat-chip",58),e._uU(1),e.qZA()),2&i){var n=t.$implicit;e.xp6(1),e.hij(" ",n," ")}}function Xe(i,t){if(1&i){var n=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"a",59),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleReferences()}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"mat-icon",60),e.qZA(),e.qZA(),e.qZA()}if(2&i){var u=e.oxw(2);e.xp6(4),e.hij("",!1===u.showDef?"Show":"Hide"," Definitional References"),e.xp6(1),e.s9C("svgIcon",u.defIcon)}}function ei(i,t){1&i&&(e.TgZ(0,"span"),e.TgZ(1,"span"),e._uU(2,"Not a public definition"),e.qZA(),e._uU(3,"\xa0 "),e._UZ(4,"mat-icon",42),e.qZA())}function ii(i,t){1&i&&(e.TgZ(0,"span"),e._uU(1,"Public definition"),e.qZA(),e._uU(2,"\xa0 "),e._UZ(3,"mat-icon",43))}var U=function(t){return["/substances/register",t]},ni=function(t){return{copy:t}},ti=function(t){return{copy:t,copyType:"definition"}};function si(i,t){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,X,4,1,"a",2),e.YNc(3,ie,3,3,"span",0),e.YNc(4,se,3,5,"span",0),e.YNc(5,ue,3,3,"span",0),e.TgZ(6,"button",3),e._UZ(7,"mat-icon",4),e.qZA(),e.TgZ(8,"mat-menu",5,6),e.YNc(10,re,3,2,"a",7),e.qZA(),e.TgZ(11,"mat-menu",5,8),e.TgZ(13,"a",9),e._UZ(14,"mat-icon",10),e.qZA(),e.TgZ(15,"a",11),e._UZ(16,"mat-icon",12),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,ve,3,1,"div",13),e.TgZ(18,"div"),e.TgZ(19,"div",14),e.TgZ(20,"div",15),e._uU(21,"Substance Class"),e.qZA(),e.TgZ(22,"div",16),e._uU(23),e.ALo(24,"classDisplay"),e.qZA(),e.qZA(),e.YNc(25,le,5,2,"div",17),e.YNc(26,de,5,2,"div",17),e.TgZ(27,"div",14),e.TgZ(28,"div",15),e._uU(29,"Record Protection Status"),e.qZA(),e.TgZ(30,"div",16),e.YNc(31,pe,5,0,"span",18),e.YNc(32,fe,4,0,"ng-template",null,19,e.W1O),e.qZA(),e.qZA(),e.YNc(34,me,6,2,"div",17),e.YNc(35,Ae,5,4,"div",20),e.YNc(36,qe,5,4,"div",20),e.YNc(37,Re,17,16,"div",20),e.YNc(38,ke,5,1,"div",17),e.YNc(39,Ke,7,3,"div",17),e.YNc(40,We,3,2,"div",21),e.TgZ(41,"div",14),e.TgZ(42,"div",15),e._uU(43,"Tags"),e.qZA(),e.TgZ(44,"div",22),e.TgZ(45,"mat-chip-list",23,24),e.YNc(47,Ge,2,1,"mat-chip",25),e.qZA(),e.qZA(),e.qZA(),e.YNc(48,Xe,6,2,"div",17),e.TgZ(49,"div",26),e._UZ(50,"app-references-manager",27),e.qZA(),e.TgZ(51,"div",14),e.TgZ(52,"div",15),e._uU(53,"Definitional Access"),e.qZA(),e.TgZ(54,"div",16),e.YNc(55,ei,5,0,"span",18),e.YNc(56,ii,4,0,"ng-template",null,28,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){var n=e.MAs(9),u=e.MAs(33),a=e.MAs(57),s=e.oxw();e.xp6(2),e.Q6J("ngIf",s.showlinks),e.xp6(1),e.Q6J("ngIf",s.canEdit&&!(s.substance.$$source&&"staging"==s.substance.$$source)),e.xp6(1),e.Q6J("ngIf",s.canEdit&&s.substance.$$source&&"staging"==s.substance.$$source),e.xp6(1),e.Q6J("ngIf",s.canEdit&&!(s.substance.$$source&&"staging"==s.substance.$$source)),e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(4),e.Q6J("ngIf",s.substance.uuid),e.xp6(3),e.Q6J("routerLink",e.VKq(32,U,s.substance.substanceClass))("queryParams",e.VKq(34,ni,s.substance.uuid)),e.xp6(2),e.Q6J("routerLink",e.VKq(36,U,s.substance.substanceClass))("queryParams",e.VKq(38,ti,s.substance.uuid)),e.xp6(2),e.Q6J("ngIf",s.substance.definitionLevel&&"COMPLETE"!==s.substance.definitionLevel),e.xp6(6),e.Oqu(e.lcZ(24,30,s.substance.substanceClass)),e.xp6(2),e.Q6J("ngIf",!s.substance.$$source),e.xp6(1),e.Q6J("ngIf",s.defaultCodes),e.xp6(5),e.Q6J("ngIf",s.substance.access&&s.substance.access.length>0)("ngIfElse",u),e.xp6(3),e.Q6J("ngIf",!s.substance.$$source),e.xp6(1),e.Q6J("ngIf",s.substance.protein),e.xp6(1),e.Q6J("ngIf",s.substance.nucleicAcid),e.xp6(1),e.Q6J("ngIf",s.substance.structurallyDiverse),e.xp6(1),e.Q6J("ngIf",!s.isAdmin&&!s.substance.$$source),e.xp6(1),e.Q6J("ngIf",s.isAdmin&&!s.substance.$$source),e.xp6(1),e.Q6J("ngIf",s.substance.version!=s.latestVersion&&!s.substance.$$source),e.xp6(7),e.Q6J("ngForOf",s.substance.tags),e.xp6(1),e.Q6J("ngIf",(null==s.references?null:s.references.length)>0),e.xp6(1),e.Q6J("hidden",!s.showDef),e.xp6(1),e.Q6J("substance",s.substance)("references",s.references),e.xp6(5),e.Q6J("ngIf",s.defAccess&&s.defAccess.length>0)("ngIfElse",a)}}var ai=function(){var i=function(t){function n(u,a,s,l,v,h,f,r,vi,li,di){var c;return(0,m.Z)(this,n),c=function G(i,t,n){return t=(0,S.Z)(t),(0,D.Z)(i,(0,N.Z)()?Reflect.construct(t,n||[],(0,S.Z)(i).constructor):t.apply(i,n))}(this,n),c.sanitizer=u,c.utilsService=a,c.gaService=s,c.substanceService=l,c.router=v,c.authService=h,c.cvService=f,c.configService=r,c.loadingService=vi,c.overlayContainerService=li,c.dialog=di,c.references=[],c.showDef=!1,c.defIcon="drop_down",c.versionControl=new d.NI("",d.kI.required),c.versions=[],c.isEditable=!1,c.isAdmin=!1,c.substanceUpdated=new F.x,c.defaultCodeSystem="BDNUM",c.primaryCode="Validated (UNII)",c.subscriptions=[],c.showlinks=!1,c.baseDomain=c.configService.configData.apiUrlDomain,c.clasicBaseHref=c.configService.environment.clasicBaseHref,c}return(0,J.Z)(n,t),(0,g.Z)(n,[{key:"ngOnInit",value:function(){var a=this,l=(this.authService.hasAnyRolesAsync("updater","superUpdater").subscribe(function(r){a.canEdit=r,a.isEditable=r&&null!=a.substance.substanceClass&&(null!=x.x[a.substance.substanceClass.toLowerCase()]||null!=x.x[a.substance.substanceClass])}),this.authService.hasAnyRolesAsync("admin").subscribe(function(r){a.isAdmin=r}));this.subscriptions.push(l),this.getSubtypeRefs(this.substance);var v=JSON.stringify(this.substance),h=this.sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(v));if(this.downloadJsonHref=h,this.getVersion(),this.getClassFromCv(),this.oldUrl=this.substanceService.oldSiteRedirect("details",this.substance.uuid),null!=this.configService.configData.defaultCodeSystem&&""!==this.configService.configData.defaultCodeSystem&&(this.defaultCodeSystem=this.configService.configData.defaultCodeSystem),null!=this.configService.configData.approvalCodeName&&""!==this.configService.configData.approvalCodeName&&(this.approvalCode=this.configService.configData.approvalCodeName,this.substance.codes.forEach(function(r){r.codeSystem==a.approvalCode&&(a.substance._approvalIDDisplay=r.code)})),this.configService.configData.primaryCode&&""!==this.configService.configData.primaryCode&&(this.primaryCode="Validated ("+this.configService.configData.primaryCode+")"),this.configService.configData&&this.configService.configData.showOldLinks&&(this.showlinks=!0),this.getDefAccess(),null!=this.substance.codes&&this.substance.codes.length>0){var f=[];this.substance.codes.forEach(function(r){r.codeSystem===a.defaultCodeSystem&&f.push(r.code)}),this.defaultCodes=f.join(", ")}this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(a){a.unsubscribe()})}},{key:"ngAfterViewInit",value:function(){var a=this,s=this.substanceUpdated.subscribe(function(l){a.substance=l,a.getVersion()});this.subscriptions.push(s)}},{key:"getDefAccess",value:function(){this.substance.structurallyDiverse?this.defAccess=this.substance.structurallyDiverse.access:this.substance.protein?this.defAccess=this.substance.protein.access:this.substance.structure?this.defAccess=this.substance.structure.access:this.substance.mixture?this.defAccess=this.substance.mixture.access:this.substance.polymer?this.defAccess=this.substance.polymer.access:this.substance.nucleicAcid?this.defAccess=this.substance.nucleicAcid.access:this.substance.specifiedSubstance&&(this.defAccess=this.substance.specifiedSubstance.access)}},{key:"getSubtypeRefs",value:function(a){a.mixture?this.references=a.mixture.references:a.protein?this.references=a.protein.references:a.nucleicAcid?this.references=a.nucleicAcid.references:a.polymer?this.references=a.polymer.references:a.structure?this.references=a.structure.references:a.structurallyDiverse?this.references=a.structurallyDiverse.references:a.specifiedSubstance&&(this.references=a.specifiedSubstance.references)}},{key:"getVersion",value:function(){var a=this;this.substanceService.checkVersion(this.substance.uuid).subscribe(function(s){a.versions=[],a.latestVersion=s,a.setVersionList(),a.versionControl.setValue(a.substance.version)},function(s){console.log(s)})}},{key:"changeVersion",value:function(){var a=this.versionControl.value.toString();this.router.navigate(["/substances/"+this.substance.uuid+"/v/"+a])}},{key:"setVersionList",value:function(){for(var a=1;a<=this.latestVersion;a++)this.versions.push(a.toString())}},{key:"toggleReferences",value:function(){this.gaService.sendEvent(this.analyticsEventCategory,"link-toggle","references",this.showDef?0:1),this.showDef=!this.showDef,this.defIcon=this.showDef?"drop_up":"drop_down"}},{key:"getClassFromCv",value:function(){var a=this;this.cvService.getDomainVocabulary("SUBSTANCE_CLASS").subscribe(function(s){s.SUBSTANCE_CLASS.list.forEach(function(v){v.value===a.substance.substanceClass&&(a.substance.substanceClass=v.display)})})}},{key:"restoreVersion",value:function(){var a=this,s=this.dialog.open($.h,{data:{substance:this.substance,version:this.substance.version,latest:this.latestVersion.toString()},width:"650px",autoFocus:!1,disableClose:!0});this.overlayContainer.style.zIndex="1002",s.afterClosed().subscribe(function(v){a.overlayContainer.style.zIndex=null,v&&"success"===v&&(a.router.onSameUrlNavigation="reload",a.router.navigate(["/substances/"+a.substance.uuid+"/"]))})}}])}(Q.B);return i.\u0275fac=function(n){return new(n||i)(e.Y36(j.H7),e.Y36(Y.F),e.Y36(M.$),e.Y36(V.d),e.Y36(b.F0),e.Y36(P.e),e.Y36(E.I),e.Y36(L.E),e.Y36(R.b),e.Y36(k.Xj),e.Y36(H.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-substance-overview"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"options-area"],["mat-icon-button","","target","_blank","matTooltip","view in old application",3,"href",4,"ngIf"],["mat-icon-button","","aria-label","download file","matTooltip","download options","name","download",3,"matMenuTriggerFor"],["svgIcon","get_app"],["xPosition","before"],["downloadMenu","matMenu"],["name","download_json","mat-menu-item","",3,"href","download",4,"ngIf"],["editMenu","matMenu"],["mat-icon-button","","matTooltip","copy substance to new registration form",3,"routerLink","queryParams"],["svgIcon","file_copy"],["mat-icon-button","","matTooltip","copy definition to new registration form",3,"routerLink","queryParams"],["svgIcon","outline-file_copy"],["class","extra-area",4,"ngIf"],[1,"name-value"],[1,"name"],[1,"value","blue-font"],["class","name-value",4,"ngIf"],[4,"ngIf","ngIfElse"],["lockedIndicator",""],["class","diverseWrapper",4,"ngIf"],["class","indent",4,"ngIf"],[1,"value"],["aria-label","Tags","selectable","false"],["tagList",""],["removable","false",4,"ngFor","ngForOf"],[3,"hidden"],[3,"substance","references"],["defIndicator",""],["mat-icon-button","","target","_blank","matTooltip","view in old application",3,"href"],["hidden",""],["svgIcon","open_in_new"],["mat-icon-button","","matTooltip","edit record","name","edit_record","aria-label","edit record",3,"routerLink"],["svgIcon","edit"],["mat-icon-button","","matTooltip","edit record","name","edit_record","aria-label","edit record",3,"routerLink","queryParams"],["mat-icon-button","","name","edit_substance","matTooltip","copy to edit form options","aria-label","copy file",3,"matMenuTriggerFor",4,"ngIf","ngIfElse"],["mat-icon-button","","name","edit_substance","matTooltip","copy to edit form options","aria-label","copy file",3,"matMenuTriggerFor"],["editClassic",""],["mat-icon-button","","name","edit","target","_blank",3,"href"],["name","download_json","mat-menu-item","",3,"href","download"],[1,"extra-area"],[1,"definition-level"],["svgIcon","lock"],["svgIcon","lock_open"],["class","deprecated",4,"ngIf"],[1,"deprecated"],[1,"diverseWrapper"],[1,"thumb-col"],["appSubstanceImage","","size","400",1,"image-thumb",3,"entityId"],[1,"substance-name",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"version-dropdown"],[1,"version-select",3,"formControl"],["class","version-option",3,"value",4,"ngFor","ngForOf"],["mat-button","","class","mat-raised-button mat-primary view-version",3,"click",4,"ngIf"],[1,"version-option",3,"value"],["mat-button","",1,"mat-raised-button","mat-primary","view-version",3,"click"],[1,"indent"],["removable","false"],["tabindex","0","role","link",1,"blue-font","references-link",3,"click"],[3,"svgIcon"]],template:function(n,u){1&n&&e.YNc(0,si,58,40,"div",0),2&n&&e.Q6J("ngIf",u.substance)},directives:[Z.O5,_.zs,q.gM,C.Hw,b.yS,_.lW,p.p6,p.VK,p.OP,z.m,Z.sg,O.KE,w.gD,d.JJ,d.oH,K.ey,T.qn,T.HS,B.C],pipes:[W],styles:[".references-link[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.version-dropdown[_ngcontent-%COMP%]{width:50px;border:0px;height:20px}.diverseWrapper[_ngcontent-%COMP%]{padding-bottom:20px}.view-version[_ngcontent-%COMP%]{margin-left:10px}.version-dropdown[_ngcontent-%COMP%]     .mat-form-field-infix{border:0px}.options-area[_ngcontent-%COMP%]{float:right;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.pre[_ngcontent-%COMP%]{white-space:pre}.definition-level[_ngcontent-%COMP%]{color:var(--link-color);font-size:16px}.deprecated[_ngcontent-%COMP%]{margin-left:10px;font-size:13px;color:var(--pink-span-color)}.extra-area[_ngcontent-%COMP%]{float:right;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-right:70px}.large-icon[_ngcontent-%COMP%]{height:32px;width:32px}.icon-button[_ngcontent-%COMP%]{padding:5px;height:34px;width:34px;min-width:34px;margin:2px}.indent[_ngcontent-%COMP%]{padding-left:12px;padding-bottom:10px}.standardize[_ngcontent-%COMP%]{padding-right:25px}.overview-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.form-row[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}"]}),i}(),oi=o(38277),ci=o(16531),ui=o(24054),ri=function(){var i=(0,g.Z)(function t(){(0,m.Z)(this,t)});return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Z.ez,I.o.forChild(ai),oi.V,ci.To,C.Ps,b.Bz,O.lN,q.AV,w.LD,d.UX,p.Tx,_.ot,ui.f,T.Hi]]}),i}()}}]);
//# sourceMappingURL=4028.6bea03ff0c33446d.js.map