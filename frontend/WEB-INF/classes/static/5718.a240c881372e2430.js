"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[5718],{95718:function(J,m,i){i.r(m),i.d(m,{SubstanceNaLinkagesModule:function(){return M}});var f=i(48047),d=i(78069),v=i(36362),h=i(95106),C=i(10853),S=i(98568),p=i(20265),y=i(24582),b=i(2756),N=i(50253),Z=i(18291),t=i(76442),c=i(97217);function L(n,a){1&n&&(t.TgZ(0,"th",10),t._uU(1," Linkage "),t.qZA())}function T(n,a){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){var s=a.$implicit,u=t.oxw();t.xp6(1),t.hij(" ",u.getLinkageDisplay(s.linkage)," ")}}function x(n,a){1&n&&(t.TgZ(0,"th",10),t._uU(1," Structure "),t.qZA())}function D(n,a){if(1&n&&(t.TgZ(0,"td",11),t._UZ(1,"img",12),t.qZA()),2&n){var s=a.$implicit;t.xp6(1),t.Q6J("src",s.structure,t.LSH)}}function A(n,a){1&n&&(t.TgZ(0,"th",10),t._uU(1," Site Range "),t.qZA())}function U(n,a){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){var s=a.$implicit;t.xp6(1),t.hij(" ",s.sitesShorthand," ")}}function R(n,a){1&n&&(t.TgZ(0,"th",10),t._uU(1," Site Count "),t.qZA())}function Y(n,a){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){var s=a.$implicit,u=t.oxw();t.xp6(1),t.hij(" ",u.getSiteCount(s.sites)," ")}}function I(n,a){1&n&&t._UZ(0,"tr",13)}function O(n,a){1&n&&t._UZ(0,"tr",14)}var Q=function(){var n=function(a){function s(u){var e;return(0,d.Z)(this,s),e=function k(n,a,s){return a=(0,p.Z)(a),(0,C.Z)(n,(0,S.Z)()?Reflect.construct(a,s||[],(0,p.Z)(n).constructor):a.apply(n,s))}(this,s),e.cvService=u,e.displayedColumns=["linkage","Structure","Site Range","Site Count"],e.substanceUpdated=new N.x,e.subscriptions=[],e}return(0,y.Z)(s,a),(0,f.Z)(s,[{key:"ngOnInit",value:function(){var e=this;this.substanceUpdated.subscribe(function(o){if(e.substance=o,null!=e.substance&&null!=e.substance.nucleicAcid&&null!=e.substance.nucleicAcid.linkages&&e.substance.nucleicAcid.linkages.length){e.linkages=e.substance.nucleicAcid.linkages,e.countUpdate.emit(e.linkages.length);var r=e.cvService.getDomainVocabulary("NUCLEIC_ACID_LINKAGE").subscribe(function(g){e.vocabulary=g.NUCLEIC_ACID_LINKAGE.dictionary,e.linkages.forEach(function(l){l.structure=e.vocabulary[l.linkage]?e.cvService.getStructureUrlFragment(e.vocabulary[l.linkage].fragmentStructure):null})});e.subscriptions.push(r),e.getTotalSites()}})}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){e.unsubscribe()})}},{key:"getTotalSites",value:function(){this.siteCount=0;var o,e=(0,h.Z)(this.linkages);try{for(e.s();!(o=e.n()).done;)this.siteCount=this.siteCount+o.value.sites.length}catch(g){e.e(g)}finally{e.f()}}},{key:"getSiteCount",value:function(e){return e.length+"/"+this.siteCount}},{key:"getLinkageDisplay",value:function(e){return this.vocabulary&&this.vocabulary[e]&&this.vocabulary[e].display?this.vocabulary[e].display:e}}])}(b.B);return n.\u0275fac=function(s){return new(s||n)(t.Y36(Z.I))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-substance-na-linkages"]],features:[t.qOj],decls:16,vars:3,consts:[[1,"responsive"],["mat-table","",3,"dataSource"],["matColumnDef","linkage"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Structure"],["matColumnDef","Site Range"],["matColumnDef","Site Count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","style","height:145px",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"structure",3,"src"],["mat-header-row",""],["mat-row","",2,"height","145px"]],template:function(s,u){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"table",1),t.ynx(2,2),t.YNc(3,L,2,0,"th",3),t.YNc(4,T,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,x,2,0,"th",3),t.YNc(7,D,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,A,2,0,"th",3),t.YNc(10,U,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,R,2,0,"th",3),t.YNc(13,Y,2,1,"td",4),t.BQk(),t.YNc(14,I,1,0,"tr",8),t.YNc(15,O,1,0,"tr",9),t.qZA(),t.qZA()),2&s&&(t.xp6(1),t.Q6J("dataSource",u.linkages),t.xp6(13),t.Q6J("matHeaderRowDef",u.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",u.displayedColumns))},directives:[c.BZ,c.w1,c.fO,c.ge,c.Dz,c.ev,c.as,c.XQ,c.nj,c.Gk],styles:[".structure[_ngcontent-%COMP%]{margin:-12px}"]}),n}(),j=i(64061),B=i(43365),E=i(26439),H=i(33865),M=function(){var n=(0,f.Z)(function a(){(0,d.Z)(this,a)});return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[v.ez,j.o.forChild(Q),c.p0,H.HT,E.TU,B.c]]}),n}()}}]);
//# sourceMappingURL=5718.a240c881372e2430.js.map